{"version":3,"sources":["_discourse-whos-online-f14b596c93d4f52bcf846d14435ea72bac62447622b327c6001409b57d695a27.js"],"names":["define","_exports","_component","Object","defineProperty","value","default","_default","extend","tagName","attributeBindings","_service","_decorators","_dec","_dec2","_dec3","_dec4","_obj","_applyDecoratedDescriptor","target","property","decorators","descriptor","context","desc","keys","forEach","key","enumerable","configurable","initializer","writable","slice","reverse","reduce","decorator","call","undefined","online","inject","showWhosOnline","this","users","length","siteSettings","whos_online_minimum_display","whos_online_hide_below_minimum_display","shouldDisplay","whos_online_maximum_display","isLong","whos_online_collapse_threshold","isUsers","getOwnPropertyDescriptor","_pluginApi","name","initialize","container","onlineService","lookup","get","indicatorType","whos_online_avatar_indicator","$","addClass","concat","withPluginApi","api","_obj2","_obj3","_obj4","modifyClass","classNameBindings","isOnline","user","isUserOnline","id","observes","afterModel","updateBodyClass","_super","user_id","modelFor","Ember","removeClass","deactivate","whos_online_avatar_indicator_topic_lists","lastPosterId","lastPosterUserId","didInsertElement","_this","appEvents","on","changedUserIds","posts","filter","_ref","map","post","postId","dirtyKeys","keyDirty","onRefresh","queueRerender","willDestroyElement","off","reopenWidget","buildKey","attrs","defaultState","updateOnline","state","buildClasses","_ajax","_user","_site","_object","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","prototype","toString","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","i","arr2","after","messageBus","window","MessageBus","_lastMessageId","find","element","messageProcessor","data","global_id","message_id","currentUsers","unsubscribe","func","ajax","method","then","result","oldUserIds","set","create","newUserIds","subscribe","changedUsers","trigger","msg","console","log","pushObject","matchById","found","removeObject","error","init","apply","arguments","startingData","currentProp","whos_online_enabled","whos_online_display_public","currentUser","trust_level","whos_online_display_min_trust_level","computed","TEMPLATES","HTMLBars","template","block","meta","moduleName"],"mappings":"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","sourceRoot":"/assets/plugins"}