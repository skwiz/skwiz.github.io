define("discourse/plugins/discourse-calendar/initializers/event-relative-date",["exports","discourse-common/config/environment","@ember/runloop","discourse/plugins/discourse-calendar/lib/event-relative-date"],function(e,t,n,s){"use strict";function i(){document.querySelectorAll(".event-relative-date.topic-list").forEach(function(e){return(0,s.default)(e)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"event-future-date",initialize:function(){i(),(0,t.isTesting)()||this._tick()},teardown:function(){this._interval&&((0,n.cancel)(this._interval),this._interval=null)},_tick:function(){var e=this;this._interval&&(0,n.cancel)(this._interval),this._interval=(0,n.later)(function(){i(),e._tick()},6e4)}};e.default=a}),define("discourse/plugins/discourse-calendar/initializers/discourse-post-event-decorator",["exports","I18n","discourse/plugins/discourse-calendar/lib/guess-best-date-format","discourse/lib/text","discourse/widgets/glue","discourse-common/lib/get-owner","discourse/lib/plugin-api","@ember/runloop"],function(e,a,d,c,p,m,t,v){"use strict";function i(e,t,n){var s,i,a,r,o,u,l;s=e,a=n,l=(i=t).querySelector(".discourse-post-event"),a&&l?(l.innerHTML="",r=149,a.should_display_invitees&&(r+=110),a.can_update_attendance&&(r+=60),a.url&&(r+=50),l.classList.add("is-loading"),l.style.height="".concat(r,"px"),(o=document.createElement("div")).innerHTML='<div class="spinner medium"></div>',l.appendChild(o),u=moment(a.starts_at),e=(0,d.default)(u,a.ends_at&&moment(a.ends_at)),s.container.lookup("site-settings:main").discourse_local_dates_enabled?((n=[]).push("[date=".concat(moment.utc(a.starts_at).format("YYYY-MM-DD")," time=").concat(moment.utc(a.starts_at).format("HH:mm")," format=").concat(e,"]")),a.ends_at&&(t=moment.utc(a.ends_at),n.push("[date=".concat(t.format("YYYY-MM-DD")," time=").concat(t.format("HH:mm")," format=").concat(e,"]"))),(0,c.cookAsync)(n.join("<span> → </span>")).then(function(e){l.classList.remove("is-loading"),l.classList.add("is-loaded");e=new p.default("discourse-post-event",(0,m.getRegister)(s),{eventModel:a,widgetHeight:r,localDates:$(e.string).html()});e.appendTo(o),f.push(e),(0,v.schedule)("afterRender",function(){return $(".discourse-local-date",$('[data-post-id="'.concat(a.id,'"]'))).applyLocalDates()})})):(u="".concat(u.format(e)),a.ends_at&&(u+=" → ".concat(moment(a.ends_at).format(e))),(u=new p.default("discourse-post-event",(0,m.getRegister)(s),{eventModel:a,widgetHeight:r,localDates:u})).appendTo(o),f.push(u))):a||(i=i.querySelector(".discourse-post-event"))&&i.remove()}function n(e,t){t.querySelectorAll(".discourse-post-event").forEach(function(e,t){0<t?((t=e).classList.add("discourse-post-event-preview","alert","alert-error"),t.classList.remove("discourse-post-event"),t.innerText=a.default.t("discourse_post_event.preview.more_than_one_event")):function(e){e.innerHTML="",e.classList.add("discourse-post-event-preview");var t="discourse_post_event.models.event.status.".concat(e.dataset.status||"public",".title");a.default.lookup(t,{locale:"en"})&&((i=document.createElement("div")).classList.add("event-preview-status"),i.innerText=a.default.t(t),e.appendChild(i));var n=document.createElement("div");n.classList.add("event-preview-dates");var s=moment.utc(e.dataset.start).tz(moment.tz.guess()),t=e.dataset.end,i=(0,d.default)(s,t&&moment.utc(t).tz(moment.tz.guess())),s="<span class='start'>".concat(s.format(i),"</span>");t&&(s+=" → <span class='end'>".concat(moment.utc(t).tz(moment.tz.guess()).format(i),"</span>")),n.innerHTML=s,e.appendChild(n)}(e)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=[];function r(){f.forEach(function(e){return e.cleanUp()}),f=[]}function s(s){s.cleanupStream(r),s.decorateCookedElement(function(e,t){e.classList.contains("d-editor-preview")?n(0,e):!t||(t=t.getModel())&&t.event&&i(s,e,t.event)},{id:"discourse-post-event-decorator"}),s.replaceIcon("notification.discourse_post_event.notifications.invite_user_notification","calendar-day"),s.replaceIcon("notification.discourse_post_event.notifications.invite_user_auto_notification","calendar-day"),s.replaceIcon("notification.discourse_calendar.invite_user_notification","calendar-day"),s.replaceIcon("notification.discourse_post_event.notifications.invite_user_predefined_attendance_notification","calendar-day"),s.replaceIcon("notification.discourse_post_event.notifications.before_event_reminder","calendar-day"),s.replaceIcon("notification.discourse_post_event.notifications.after_event_reminder","calendar-day"),s.replaceIcon("notification.discourse_post_event.notifications.ongoing_event_reminder","calendar-day"),s.modifyClass("controller:topic",{subscribe:function(){var n=this;this._super.apply(this,arguments),this.messageBus.subscribe("/discourse-post-event/"+this.get("model.id"),function(e){var t=document.querySelector('.onscreen-post[data-post-id="'.concat(e.id,'"] .cooked'));t&&n.store.find("discourse-post-event-event",e.id).then(function(e){return i(s,t,e)}).catch(function(){return i(s,t)})})},unsubscribe:function(){this.messageBus.unsubscribe("/discourse-post-event/*"),this._super.apply(this,arguments)}})}var o={name:"discourse-post-event-decorator",initialize:function(e){e.lookup("site-settings:main").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.7",s)}};e.default=o}),define("discourse/plugins/discourse-calendar/initializers/add-holiday-flair",["exports","I18n","discourse/lib/plugin-api","discourse-common/lib/icon-library","@ember/runloop","discourse-common/lib/get-url"],function(e,t,n,s,i,a){"use strict";function r(e,t){e&&(t=(0,a.default)("/u/".concat(t.toLowerCase())),e.querySelectorAll('a.mention[href="'.concat(t,'"]')).forEach(function(e){e.querySelector(".d-icon-calendar-alt")||e.insertAdjacentHTML("beforeend",(0,s.iconHTML)("calendar-alt")),e.classList.add("on-holiday")}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"add-holiday-flair",initialize:function(){(0,n.withPluginApi)("0.10.1",function(e){var t=e.container.lookup("site:main").users_on_holiday;t&&0<t.length&&e.addUsernameSelectorDecorator(function(e){if(t.includes(e))return'<span class="on-holiday">'.concat((0,s.iconHTML)("calendar-alt"),"</span>")})}),(0,n.withPluginApi)("0.8",function(e){var n,s=e.container.lookup("site:main").users_on_holiday;s&&0<s.length&&(e.cleanupStream(function(){return n&&(0,i.cancel)(n)}),e.decorateCooked(function(t,e){e?s.forEach(function(e){return r(t[0],e)}):(n&&(0,i.cancel)(n),n=(0,i.later)(function(){return s.forEach(function(e){return r(t[0],e)})},1e3))},{id:"discourse-calendar-holiday-flair"}),e.addPosterIcon(function(e){if(e.on_holiday)return{emoji:"desert_island",className:"holiday",title:t.default.t("discourse_calendar.on_holiday")}}))})}};e.default=o}),define("discourse/plugins/discourse-calendar/initializers/add-event-ui-builder",["exports","discourse/lib/plugin-api","discourse/lib/show-modal"],function(e,t,n){"use strict";function s(e){var t=e.getCurrentUser();e.addToolbarPopupMenuOptionsCallback(function(e){if(t&&t.can_create_discourse_post_event){e=e.model;return e&&!e.replyingToTopic&&(e.topicFirstPost||e.creatingPrivateMessage||e.editingPost&&e.post&&1===e.post.post_number)?{label:"discourse_post_event.builder_modal.attach",id:"insertEvent",group:"insertions",icon:"calendar-day",action:"insertEvent"}:void 0}}),e.modifyClass("controller:composer",{actions:{insertEvent:function(){var e=this.store.createRecord("discourse-post-event-event");e.set("status","public"),e.set("custom_fields",{}),(0,n.default)("discourse-post-event-builder").setProperties({toolbarEvent:this.toolbarEvent,model:{eventModel:e}})}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"add-discourse-post-event-builder",initialize:function(e){e.lookup("site-settings:main").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.7",s)}};e.default=i}),define("discourse/plugins/discourse-calendar/initializers/add-hamburger-menu-action",["exports","discourse/lib/plugin-api"],function(e,t){"use strict";function n(e){e.decorateWidget("hamburger-menu:generalLinks",function(){return{icon:"calendar-day",route:"discourse-post-event-upcoming-events",label:"discourse_post_event.upcoming_events.title"}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"add-hamburger-menu-action",initialize:function(e){e.lookup("site-settings:main").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.7",n)}};e.default=s}),define("discourse/plugins/discourse-calendar/initializers/discourse-group-timezones",["exports","discourse/widgets/glue","discourse-common/lib/get-owner","discourse/lib/plugin-api"],function(e,u,l,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"discourse-group-timezones",initialize:function(){(0,t.withPluginApi)("0.8.7",function(r){var o=[];function n(e,a){e=$(".group-timezones",e);e.length&&e.each(function(e,t){var n=t.getAttribute("data-group");if(!n)throw"[group] attribute is necessary when using timezones.";var s,i=(a.get("group_timezones")||{})[n]||[];s=t,t={id:"".concat(a.id,"-").concat(e),members:i,group:n,usersOnHoliday:r.container.lookup("site:main").users_on_holiday||[],size:t.getAttribute("data-size")||"medium"},(t=new u.default("discourse-group-timezones",(0,l.getRegister)(r),t)).appendTo(s),o.push(t)})}r.decorateCooked(function(e,t){!t||(t=t.getModel())&&(r.preventCloak(t.id),n(e,t))},{id:"discourse-group-timezones"}),r.cleanupStream(function(){o.forEach(function(e){return e.cleanUp()}),o=[]})})}};e.default=n}),define("discourse/plugins/discourse-calendar/initializers/decorate-topic-title",["exports","discourse/lib/plugin-api","discourse/plugins/discourse-calendar/lib/event-relative-date"],function(e,t,i){"use strict";function n(e){e.decorateTopicTitle(function(e,t,n){var s=t.querySelector(".event-date-container");s&&s.remove(),e.event_starts_at&&e.event_ends_at&&("topic-list-item-title"!==n&&"header-title"!==n||((s=document.createElement("div")).classList.add("event-date-container"),(n=document.createElement("span")).classList.add("event-date","event-relative-date"),n.dataset.starts_at=e.event_starts_at,n.dataset.ends_at=e.event_ends_at,s.appendChild(n),t.appendChild(s),(0,i.default)(n)))})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"decorate-topic-title",initialize:function(e){e.lookup("site-settings:main").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.40",n)}};e.default=s}),define("discourse/plugins/discourse-calendar/initializers/discourse-calendar",["exports","rsvp","@ember/utils","discourse/lib/url","discourse/lib/text","discourse/lib/utilities","discourse/lib/load-script","discourse/lib/plugin-api","discourse/lib/ajax","discourse/lib/d-popover","discourse/models/category"],function(e,o,u,g,l,b,t,n,y,w,M){"use strict";function k(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,t=function(){};return{s:t,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(r)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function A(){return(0,t.default)("/plugins/discourse-calendar/javascripts/fullcalendar-with-moment-timezone.min.js")}function s(c){var p,e=Discourse.SiteSettings.calendar_categories_outlet,t=c.container.lookup("site:main"),m=t&&t.mobileView,n=".".concat(e,"-outlet");function r(e,t){var n,s,i,a,r,o,u,l,d=function(e,t){e=e.attr("data-calendar-default-timezone");moment.tz.zone(e)||(e=null);return e||t&&t.timezone||moment.tz.guess()}(e=e.empty(),c.getCurrentUser()),s=(n=e,s=d,i=document.querySelector(".discourse-calendar-header > .discourse-calendar-title"),r=(0,b.escapeExpression)(n.attr("data-calendar-default-view")||(m?"listNextYear":"month")),a="false"!==n.attr("data-calendar-show-add-to-calendar"),new window.FullCalendar.Calendar(n[0],{timeZone:s,timeZoneImpl:"moment-timezone",nextDayThreshold:"06:00:00",displayEventEnd:!0,height:650,firstDay:1,defaultView:r,views:{listNextYear:{type:"list",duration:{days:365},buttonText:"list",listDayFormat:{month:"long",year:"numeric",day:"numeric",weekday:"long"}}},header:{left:"prev,next today",center:"title",right:"month,basicWeek,listNextYear"},datesRender:function(e){a&&(_(e),i.innerText=e.view.title)}}));"static"===e.attr("data-calendar-type")?(s.render(),o=s,$("<div>".concat(t.cooked,"</div>")).find('.calendar[data-calendar-type="static"] p').html().trim().split("<br>").forEach(function(e){var t=$.parseHTML(e),e=t.filter(function(e){return $(e).hasClass("discourse-local-date")}),e=f(v($(e[0])),v($(e[1])));e.title=t[0].textContent.trim(),o.addEvent(e)})):(function(o,u){var l=[];(u.calendar_details||[]).forEach(function(e){switch(e.type){case"grouped":l.push(e);break;case"standalone":t=o,n=u,i=h(s=e),a=parseInt(Discourse.SiteSettings.holiday_calendar_topic_id,10),(r=s.message.split("\n").filter(function(e){return e})).length&&n.topic_id&&a!==n.topic_id?(i.title=r[0],i.extendedProps.description=r.slice(1).join(" ")):(i.title=s.username,i.backgroundColor=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);for(var s="#",i=0;i<3;i++)s+=("00"+(t>>8*i&255).toString(16)).substr(-2);return s}(s.username)),r=s.message.substr(0,50),50<s.message.length&&(r+="..."),i.extendedProps.htmlContent=r,i.title=i.title.replace(/<img[^>]*>/g,""),!void t.addEvent(i)}var t,n,s,i,a,r});var i={};l.forEach(function(e){var t=moment(e.from).utc().startOf("day").toISOString(),n=moment(e.to||e.from).utc().endOf("day").toISOString(),s="".concat(t,"-").concat(n);i[s]=i[s]||{from:t,to:n||t,localEvents:{}},i[s].localEvents[e.name]=i[s].localEvents[e.name]||{usernames:[]},i[s].localEvents[e.name].usernames.push.apply(i[s].localEvents[e.name].usernames,e.usernames)}),Object.keys(i).forEach(function(e){e=i[e];!function(e,n){var s="",i=[],a=[];Object.keys(n.localEvents).sort().forEach(function(e){var t=n.localEvents[e];s+="<b>".concat(e,"</b>: ").concat(t.usernames.sort().join(", "),"<br>"),i=i.concat(t.usernames),a.push(e)});var t=h(n);t.classNames=["grouped-event"],3<i.length?t.title=m?i.length:"(".concat(i.length,") ")+I18n.t("discourse_calendar.holiday"):1===i.length?t.title=i[0]:t.title=m?i.length:"(".concat(i.length,") ")+i.slice(0,3).join(", "),1<a.length||1<i.length?t.extendedProps.htmlContent=s:t.extendedProps.htmlContent=a[0],e.addEvent(t)}(o,e)})}(s,t),s.render(),r=s,e="false"===(t=e).attr("data-weekends"),t=t.attr("data-hidden-days"),e&&r.setOption("weekends",!1),t&&r.setOption("hiddenDays",t.split(",").map(function(e){return parseInt(e)})),r.setOption("eventClick",function(e){var t=e.event,n=e.jsEvent;(0,w.hidePopover)(n);var s=t.extendedProps,e=s.htmlContent,t=s.postNumber,s=s.postUrl;s?g.default.routeTo(s):t?(p=p||c.container.lookup("controller:topic")).send("jumpToPost",t):m&&e&&(0,w.showPopover)(n,{htmlContent:e})}),r.setOption("eventMouseEnter",function(e){var t=e.event,e=e.jsEvent,t=t.extendedProps.htmlContent;t&&(0,w.showPopover)(e,{htmlContent:t})}),r.setOption("eventMouseLeave",function(e){e=e.jsEvent;(0,w.hidePopover)(e)})),u=s,d=d,(l=$(".discourse-calendar-timezone-picker")).length?(l.on("change",function(e){u.setOption("timeZone",e.target.value),_(u)}),moment.tz.names().forEach(function(e){l.append(new Option(e,e))}),l.val(d)):$(".discourse-calendar-timezone-wrap").text(d)}function v(e){var t=e.attr("data-date");if(!t)return null;var n=e.attr("data-time"),s=e.attr("data-timezone"),t=t;return n&&(t="".concat(t," ").concat(n)),{weeklyRecurring:"1.weeks"===e.attr("data-recurring"),dateTime:moment.tz(t,s||"Etc/UTC")}}function f(e,t){function n(e){return 0!==e.hours()||0!==e.minutes()||0!==e.seconds()}var s={start:e.dateTime.toDate(),allDay:!1};return t?n(t.dateTime)||n(e.dateTime)?s.end=t.dateTime.toDate():(s.end=t.dateTime.add(1,"days").toDate(),s.allDay=!0):s.allDay=!0,e.weeklyRecurring&&(s.startTime={hours:e.dateTime.hours(),minutes:e.dateTime.minutes(),seconds:e.dateTime.seconds()},s.daysOfWeek=[e.dateTime.day()]),s}function h(e){var t=f(e.from?{dateTime:moment(e.from),weeklyRecurring:"1.weeks"===e.recurring}:null,e.to?{dateTime:moment(e.to),weeklyRecurring:"1.weeks"===e.recurring}:null);return t.extendedProps={},e.post_url?t.extendedProps.postUrl=e.post_url:e.post_number?t.extendedProps.postNumber=e.post_number:t.classNames=["holiday"],t}function _(e){if("listNextYear"===e.view.type){var t,n,s,i,a,r=e.view.eventRenderer.segs,o=function(e){var t={},n=k(e.view.calendar.getEvents());try{for(n.s();!(s=n.n()).done;){var s=s.value;t[s._instance.defId]={start:s.start,end:s.end}}}catch(e){n.e(e)}finally{n.f()}return t}(e),u=k(r);try{for(u.s();!(a=u.n()).done;){var l=a.value;t=o,a=i=s=n=void 0,n=(l=l).eventRange.def.title,s=t[l.eventRange.def.defId],i=s.start,a=(a=s.end)?d(a,l.eventRange.def.allDay):function(e,t){var n=t?"days":"hours";return d(moment(e).add(1,n).toDate(),t)}(i,l.eventRange.def.allDay),i=d(i,l.eventRange.def.allDay),t=document.createElement("a"),s=I18n.t("discourse_calendar.add_to_calendar"),t.title=s,t.appendChild(document.createTextNode(s)),t.href="\n      http://www.google.com/calendar/event?action=TEMPLATE&text=".concat(encodeURIComponent(n),"&dates=").concat(i,"/").concat(a,"&details=").concat(encodeURIComponent(l.eventRange.def.extendedProps.description)),t.target="_blank",t.classList.add("fc-list-item-add-to-calendar"),!void l.el.querySelector(".fc-list-item-title").appendChild(t)}}catch(e){u.e(e)}finally{u.f()}}}function d(e,t){return 1<arguments.length&&void 0!==t&&t?moment(e).utc().format("YYYYMMDD"):e.toISOString().replace(/-|:|\.\d\d\d/g,"")}"before-topic-list-body"===e&&(n=".topic-list:not(.shared-drafts) .".concat(e,"-outlet")),c.onPageChange(function(e,t){var s,i,a=$("".concat(n,".category-calendar"));a.length&&(a.hide(),!(e=M.default.findBySlugPathWithID(e))||(s=Discourse.SiteSettings.calendar_categories.split("|").filter(Boolean).map(function(e){var t={};return e.split(";").filter(Boolean).forEach(function(e){e=e.split("=");t[e[0]]=e[1]}),t}).findBy("categoryId",e.id.toString()))&&s.postId&&(a.show(),i=s.postId,e=$('<div class="calendar"><div class="spinner medium"></div></div>'),a.html(e),A().then(function(){var t=["postId=".concat(i)];["weekends","tzPicker","defaultView"].forEach(function(e){(0,u.isPresent)(s[e])&&t.push("".concat(e,"=").concat((0,b.escapeExpression)(s[e])))});var e="[calendar ".concat(t.join(" "),"]\n[/calendar]"),n=(0,l.cookAsync)(e),e=(0,y.ajax)("/posts/".concat(i,".json"));o.Promise.all([n,e]).then(function(e){var t=e[0],e=e[1],t=$(t.string);a.html(t),r($(".calendar",t),e)})})))}),c.decorateCooked(function(e,t){window.addEventListener("scroll",w.hidePopover);var n=$(".calendar",e);if(0===n.length)return;A().then(function(){return r(n,t.getModel())})},{onlyStream:!0,id:"discourse-calendar"}),c.cleanupStream(function(){window.removeEventListener("scroll",w.hidePopover)}),c.registerCustomPostMessageCallback("calendar_change",function(e){var e=e.get("model.postStream"),e=e.findLoadedPost(e.get("firstPostId")),t=$(".topic-post article#post_1").find(".calendar").first();e&&0<t.length&&(0,y.ajax)("/posts/".concat(e.id,".json")).then(function(e){return A().then(function(){return r(t,e)})})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"discourse-calendar",initialize:function(e){e.lookup("site-settings:main").calendar_enabled&&(0,n.withPluginApi)("0.8.22",s)}};e.default=i}),define("discourse/plugins/discourse-calendar/helpers/render-invitee",["exports","discourse/helpers/user-avatar","discourse/lib/url","discourse-common/lib/helpers","@ember/template","discourse/lib/utilities"],function(e,n,s,t,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.htmlHelper)(function(e){var t=(0,s.userPath)(e.user.username),e='\n    <a href="'.concat(t,'" data-user-card="').concat(e.user.username,'">\n      <span class="user">\n        ').concat((0,n.renderAvatar)(e.user,{imageSize:"medium"}),'\n        <span class="username">\n         ').concat((0,a.formatUsername)(e.user.username),"\n        </span>\n      </span>\n    </a>\n  ");return(0,i.htmlSafe)(e)});e.default=t}),define("discourse/plugins/discourse-calendar/helpers/format-future-date",["exports","discourse/plugins/discourse-calendar/lib/guess-best-date-format","discourse-common/lib/helpers"],function(e,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.htmlHelper)(function(e){e=moment.utc(e).tz(moment.tz.guess());var t=(0,n.default)(e);return e.format(t)});e.default=t}),define("discourse/plugins/discourse-calendar/helpers/format-event-name",["exports","discourse-common/lib/helpers"],function(e,t){"use strict";function n(e){return e.name||e.post.topic.title}Object.defineProperty(e,"__esModule",{value:!0}),e.formatEventName=n;t=(e.default=void 0,t.htmlHelper)(n);e.default=t}),define("discourse/plugins/discourse-calendar/lib/round-time",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return e.round(t,"minutes")},"function"!=typeof moment.fn.round&&(moment.fn.round=function(e,t,n){n=n||"round";var s,i=this,a={hours:{name:"Hours",maxValue:24},minutes:{name:"Minutes",maxValue:60},seconds:{name:"Seconds",maxValue:60},milliseconds:{name:"Milliseconds",maxValue:1e3}},r={mm:a.milliseconds.name,milliseconds:a.milliseconds.name,Milliseconds:a.milliseconds.name,s:a.seconds.name,seconds:a.seconds.name,Seconds:a.seconds.name,m:a.minutes.name,minutes:a.minutes.name,Minutes:a.minutes.name,H:a.hours.name,h:a.hours.name,hours:a.hours.name,Hours:a.hours.name},o=0,u=!1,l=1;if(1<t.length&&"mm"!==t&&"s"!==t.slice(-1)&&(t+="s"),!a[t=r[t].toLowerCase()])throw new Error('The value to round is not valid. Possibles ["hours", "minutes", "seconds", "milliseconds"]');var d,c="get"+a[t].name,r="set"+a[t].name;for(d in a)d===t?(o=i._d[c](),s=a[d].maxValue,u=!0):u&&(l*=a[d].maxValue,o+=i._d["get"+a[d].name]()/l,i._d["set"+a[d].name](0));return o=Math[n](o/e)*e,o=Math.min(o,s),i._d[r](o),i}),"function"!=typeof moment.fn.ceil&&(moment.fn.ceil=function(e,t){return this.round(e,t,"ceil")}),"function"!=typeof moment.fn.floor&&(moment.fn.floor=function(e,t){return this.round(e,t,"floor")});var t=15}),define("discourse/plugins/discourse-calendar/lib/guess-best-date-format",["exports"],function(e){"use strict";function n(e,t){return 0<e.hours()||0<e.minutes()||t&&(0<moment(t).hours()||0<moment(t).minutes())}Object.defineProperty(e,"__esModule",{value:!0}),e.isNotFullDayEvent=n,e.default=function(e,t){t=n(e,t)?"LLL":"LL";return t}}),define("discourse/plugins/discourse-calendar/lib/regions",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TIME_ZONE_TO_REGION=e.HOLIDAY_REGIONS=void 0;e.HOLIDAY_REGIONS=["ar","at","au","au_nsw","au_vic","au_qld","au_nt","au_act","au_sa","au_wa","au_tas","au_tas_south","au_qld_cairns","au_qld_brisbane","au_tas_north","au_vic_melbourne","be_fr","be_nl","br","bg_en","bg_bg","ca","ca_qc","ca_ab","ca_sk","ca_on","ca_bc","ca_nb","ca_mb","ca_ns","ca_pe","ca_nl","ca_nt","ca_nu","ca_yt","us","ch_zh","ch_be","ch_lu","ch_ur","ch_sz","ch_ow","ch_nw","ch_gl","ch_zg","ch_fr","ch_so","ch_bs","ch_bl","ch_sh","ch_ar","ch_ai","ch_sg","ch_gr","ch_ag","ch_tg","ch_ti","ch_vd","ch_ne","ch_ge","ch_ju","ch_vs","ch","cl","co","cr","cz","dk","de","de_bw","de_by","de_he","de_nw","de_rp","de_sl","de_sn_sorbian","de_th_cath","de_sn","de_st","de_be","de_by_cath","de_by_augsburg","de_bb","de_mv","de_th","de_hb","de_hh","de_ni","de_sh","ee","el","es_pv","es_na","es_an","es_ib","es_cm","es_mu","es_m","es_ar","es_cl","es_cn","es_lo","es_ga","es_ce","es_o","es_ex","es","es_ct","es_v","es_vc","fi","fr_a","fr_m","fr","gb","gb_eng","gb_wls","gb_eaw","gb_nir","je","gb_jsy","gg","gb_gsy","gb_sct","gb_con","im","gb_iom","ge","hr","hk","hu","ie","is","it","it_ve","it_tv","it_vr","it_pd","it_fi","it_ge","it_to","it_rm","it_vi","it_bl","it_ro","kr","li","lt","lv","ma","mt_mt","mt_en","mx","mx_pue","nl","lu","no","nz","nz_sl","nz_we","nz_ak","nz_nl","nz_ne","nz_ot","nz_ta","nz_sc","nz_hb","nz_mb","nz_ca","nz_ch","nz_wl","pe","ph","pl","pt","pt_li","pt_po","ro","rs_cyrl","rs_la","ru","se","tn","tr","ua","us_fl","us_la","us_ct","us_de","us_gu","us_hi","us_in","us_ky","us_nj","us_nc","us_nd","us_pr","us_tn","us_ms","us_id","us_ar","us_tx","us_dc","us_md","us_va","us_vt","us_ak","us_ca","us_me","us_ma","us_al","us_ga","us_ne","us_mo","us_sc","us_wv","us_vi","us_ut","us_ri","us_az","us_co","us_il","us_mt","us_nm","us_ny","us_oh","us_pa","us_mi","us_mn","us_nv","us_or","us_sd","us_wa","us_wi","us_wy","us_ia","us_ks","us_nh","us_ok","za","ve","sk","si","jp","vi","sg","my","th","ng"];e.TIME_ZONE_TO_REGION={"America/Argentina/Buenos_Aires":"ar","America/Argentina/Cordoba":"ar","America/Argentina/Salta":"ar","America/Argentina/Jujuy":"ar","America/Argentina/Tucuman":"ar","America/Argentina/Catamarca":"ar","America/Argentina/La_Rioja":"ar","America/Argentina/San_Juan":"ar","America/Argentina/Mendoza":"ar","America/Argentina/San_Luis":"ar","America/Argentina/Rio_Gallegos":"ar","America/Argentina/Ushuaia":"ar","Europe/Vienna":"at","Australia/Lord_Howe":"au","Antarctica/Macquarie":"au","Australia/Hobart":"au","Australia/Currie":"au","Australia/Melbourne":"au","Australia/Sydney":"au","Australia/Broken_Hill":"au","Australia/Brisbane":"au","Australia/Lindeman":"au","Australia/Adelaide":"au","Australia/Darwin":"au","Australia/Perth":"au","Australia/Eucla":"au","America/Noronha":"br","America/Belem":"br","America/Fortaleza":"br","America/Recife":"br","America/Araguaina":"br","America/Maceio":"br","America/Bahia":"br","America/Sao_Paulo":"br","America/Campo_Grande":"br","America/Cuiaba":"br","America/Santarem":"br","America/Porto_Velho":"br","America/Boa_Vista":"br","America/Manaus":"br","America/Eirunepe":"br","America/Rio_Branco":"br","America/St_Johns":"ca","America/Halifax":"ca","America/Glace_Bay":"ca","America/Moncton":"ca","America/Goose_Bay":"ca","America/Blanc-Sablon":"ca","America/Toronto":"ca","America/Nipigon":"ca","America/Thunder_Bay":"ca","America/Iqaluit":"ca","America/Pangnirtung":"ca","America/Atikokan":"ca","America/Winnipeg":"ca","America/Rainy_River":"ca","America/Resolute":"ca","America/Rankin_Inlet":"ca","America/Regina":"ca","America/Swift_Current":"ca","America/Edmonton":"ca","America/Cambridge_Bay":"ca","America/Yellowknife":"ca","America/Inuvik":"ca","America/Creston":"ca","America/Dawson_Creek":"ca","America/Fort_Nelson":"ca","America/Vancouver":"ca","America/Whitehorse":"ca","America/Dawson":"ca","Europe/Zurich":"ch","America/Santiago":"cl","America/Punta_Arenas":"cl","Pacific/Easter":"cl","America/Bogota":"co","America/Costa_Rica":"cr","Europe/Prague":"cz","Europe/Berlin":"de","Europe/Copenhagen":"dk","Europe/Tallinn":"ee","Europe/Madrid":"es","Africa/Ceuta":"es","Atlantic/Canary":"es","Europe/Helsinki":"fi","Europe/Paris":"fr","Europe/London":"gb","Asia/Tbilisi":"ge","Europe/Athens":"el","Asia/Hong_Kong":"hk","Europe/Budapest":"hu","Europe/Dublin":"ie","Atlantic/Reykjavik":"is","Europe/Rome":"it","Asia/Tokyo":"jp","Asia/Seoul":"kr","Europe/Vilnius":"lt","Europe/Luxembourg":"lu","Europe/Riga":"lv","Africa/Casablanca":"ma","America/Mexico_City":"mx","America/Cancun":"mx","America/Merida":"mx","America/Monterrey":"mx","America/Matamoros":"mx","America/Mazatlan":"mx","America/Chihuahua":"mx","America/Ojinaga":"mx","America/Hermosillo":"mx","America/Tijuana":"mx","America/Bahia_Banderas":"mx","Asia/Kuala_Lumpur":"my","Asia/Kuching":"my","Africa/Lagos":"ng","Europe/Amsterdam":"nl","Europe/Oslo":"no","Pacific/Auckland":"nz","Pacific/Chatham":"nz","America/Lima":"pe","Asia/Manila":"ph","Europe/Warsaw":"pl","Europe/Lisbon":"pt","Atlantic/Madeira":"pt","Atlantic/Azores":"pt","Europe/Bucharest":"ro","Europe/Kaliningrad":"ru","Europe/Moscow":"ru","Europe/Simferopol":"ru","Europe/Kirov":"ru","Europe/Astrakhan":"ru","Europe/Volgograd":"ru","Europe/Saratov":"ru","Europe/Ulyanovsk":"ru","Europe/Samara":"ru","Asia/Yekaterinburg":"ru","Asia/Omsk":"ru","Asia/Novosibirsk":"ru","Asia/Barnaul":"ru","Asia/Tomsk":"ru","Asia/Novokuznetsk":"ru","Asia/Krasnoyarsk":"ru","Asia/Irkutsk":"ru","Asia/Chita":"ru","Asia/Yakutsk":"ru","Asia/Khandyga":"ru","Asia/Vladivostok":"ru","Asia/Ust-Nera":"ru","Asia/Magadan":"ru","Asia/Sakhalin":"ru","Asia/Srednekolymsk":"ru","Asia/Kamchatka":"ru","Asia/Anadyr":"ru","Europe/Stockholm":"se","Asia/Singapore":"sg","Asia/Bangkok":"th","Africa/Tunis":"tn","Europe/Istanbul":"tr","Europe/Kiev":"ua","Europe/Uzhgorod":"ua","Europe/Zaporozhye":"ua","America/New_York":"us","America/Detroit":"us","America/Kentucky/Louisville":"us","America/Kentucky/Monticello":"us","America/Indiana/Indianapolis":"us","America/Indiana/Vincennes":"us","America/Indiana/Winamac":"us","America/Indiana/Marengo":"us","America/Indiana/Petersburg":"us","America/Indiana/Vevay":"us","America/Chicago":"us","America/Indiana/Tell_City":"us","America/Indiana/Knox":"us","America/Menominee":"us","America/North_Dakota/Center":"us","America/North_Dakota/New_Salem":"us","America/North_Dakota/Beulah":"us","America/Denver":"us","America/Boise":"us","America/Phoenix":"us","America/Los_Angeles":"us","America/Anchorage":"us","America/Juneau":"us","America/Sitka":"us","America/Metlakatla":"us","America/Yakutat":"us","America/Nome":"us","America/Adak":"us","Pacific/Honolulu":"us","America/Caracas":"ve","Africa/Johannesburg":"za","Europe/Busingen":"de","Europe/Guernsey":"gg","Europe/Zagreb":"hr","Europe/Isle_of_Man":"im","Europe/Jersey":"je","Europe/Vaduz":"li","Europe/Ljubljana":"si","Europe/Bratislava":"sk","America/St_Thomas":"vi"}}),define("discourse/plugins/discourse-calendar/lib/event-relative-date",["exports","I18n"],function(e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.classList.remove("past","current","future"),e.innerHTML="";var t=moment.utc(e.dataset.starts_at).tz(moment.tz.guess()),n=moment.utc(e.dataset.ends_at).tz(moment.tz.guess());if(t.isAfter(moment())&&n.isAfter(moment()))return e.classList.add("future"),void(e.innerText=t.from(moment()));if(t.isBefore(moment())&&n.isAfter(moment()))return e.classList.add("current"),void function(e,t){var n=document.createElement("div");n.classList.add("indicator"),e.appendChild(n),(n=document.createElement("span")).classList.add("text"),n.innerText=s.default.t("discourse_post_event.topic_title.ends_in_duration",{duration:t.from(moment())}),e.appendChild(n)}(e,n);t.isBefore(moment())&&n.isBefore(moment())&&(e.classList.add("past"),e.innerText=n.from(moment()))}}),define("discourse/plugins/discourse-calendar/lib/raw-event-helper",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildParams=function(e,t,n,s){var i={};i.start=(e?moment(e):moment()).utc().format("YYYY-MM-DD HH:mm");n.status&&(i.status=n.status);n.name&&(i.name=n.name);n.url&&(i.url=n.url);n.recurrence&&(i.recurrence=n.recurrence);t&&(i.end=moment(t).utc().format("YYYY-MM-DD HH:mm"));"private"===n.status&&(i.allowedGroups=(n.raw_invitees||[]).join(","));"public"===n.status&&(i.allowedGroups="trust_level_0");n.reminders&&n.reminders.length&&(i.reminders=n.reminders.map(function(e){e=Object.assign({},e);return"after"===e.period&&(e.value="-".concat(Math.abs(parseInt(e.value,10)))),"before"===e.period&&(e.value=Math.abs(parseInt("".concat(e.value),10))),"".concat(e.value,".").concat(e.unit)}).join(","));return s.discourse_post_event_allowed_custom_fields.split("|").filter(Boolean).forEach(function(e){var t=e.toLowerCase().replace(/-/g,"_").replace(/_(.)/g,function(e,t){return t.toUpperCase()});void 0!==n.custom_fields[e]&&(i[t]=n.custom_fields[e])}),i},e.replaceRaw=function(n,e){var t=new RegExp("\\[event\\s(.*?)\\]","m"),s=e.match(t);if(s&&s[1]){var i=[];return Object.keys(n).forEach(function(e){var t=n[e];t&&t.length&&i.push("".concat(e,'="').concat(n[e],'"'))}),e.replace(t,"[event ".concat(i.join(" "),"]"))}return!1}}),define("discourse/plugins/discourse-calendar/lib/clean-title",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(!e||!t)return;e=e.trim().match(n);return e&&e[0]};var n=new RegExp("[^|\\s](\\d{1,2}".concat("[-/]","\\d{1,2}").concat("[-/]","\\d{2,4}(?:\\s\\d{1,2}:\\d{2})?)$"),"g")}),define("discourse/plugins/discourse-calendar/lib/discourse-markdown/discourse-post-event-block",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.whiteList(["div.discourse-post-event"]),e.registerOptions(function(e,t){e.features.discourse_post_event=t.calendar_enabled&&t.discourse_post_event_enabled}),e.registerPlugin(function(e){return e.block.bbcode.ruler.push("discourse-post-event",t)})};var t={tag:"event",wrap:function(n,s){return!!s.attrs.start&&(n.attrs=[["class","discourse-post-event"]],Object.keys(s.attrs).forEach(function(e){var t=s.attrs[e];void 0!==t&&n.attrs.push(["data-".concat(e.replace(/[A-Z]/g,function(e,t){return(0!==t?"-":"")+e.toLowerCase()})),t])}),!0)}}}),define("discourse/plugins/discourse-calendar/lib/discourse-markdown/discourse-calendar",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.whiteList(["div.calendar","div.discourse-calendar-header","div.discourse-calendar-wrap","select.discourse-calendar-timezone-picker","span.discourse-calendar-timezone-wrap","h2.discourse-calendar-title","div[data-calendar-type]","div[data-calendar-default-view]","div[data-calendar-default-timezone]","div[data-weekends]","div[data-hidden-days]","div.group-timezones","div[data-group]","div[data-size]"]),e.registerOptions(function(e,t){e.features["discourse-calendar-enabled"]=!!t.calendar_enabled}),e.registerPlugin(function(e){e.options.discourse.features["discourse-calendar-enabled"]&&(e.block.bbcode.ruler.push("discourse-calendar",t),e.block.bbcode.ruler.push("discourse-group-timezones",n))})};var t={tag:"calendar",before:function(e,t){var n;e.push("div_calendar_wrap","div",1).attrs=[["class","discourse-calendar-wrap"]],e.push("div_calendar_header","div",1).attrs=[["class","discourse-calendar-header"]],e.push("h2_open","h2",1).attrs=[["class","discourse-calendar-title"]],e.push("h2_close","h2",-1),e.push("span_open","span",1).attrs=[["class","discourse-calendar-timezone-wrap"]],"true"===t.attrs.tzPicker&&((n=e).push("select_open","select",1).attrs=[["class","discourse-calendar-timezone-picker"]],n.push("select_close","select",-1)),e.push("span_close","span",-1),e.push("div_calendar_header","div",-1);e=e.push("div_calendar","div",1);e.attrs=[["class","calendar"],["data-calendar-type",t.attrs.type||"dynamic"],["data-calendar-default-timezone",t.attrs.defaultTimezone]],t.attrs.defaultView&&e.attrs.push(["data-calendar-default-view",t.attrs.defaultView]),t.attrs.weekends&&e.attrs.push(["data-weekends",t.attrs.weekends]),t.attrs.showAddToCalendar&&e.attrs.push(["data-calendar-show-add-to-calendar","true"===t.attrs.showAddToCalendar]),t.attrs.hiddenDays&&e.attrs.push(["data-hidden-days",t.attrs.hiddenDays])},after:function(e){e.push("div_calendar","div",-1),e.push("div_calendar_wrap","div",-1)}},n={tag:"timezones",before:function(e,t){e.push("div_group_timezones","div",1).attrs=[["class","group-timezones"],["data-group",t.attrs.group],["data-size",t.attrs.size||"medium"]]},after:function(e){e.push("div_group_timezones","div",-1)}}}),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-event",["exports","discourse/models/rest","discourse/lib/ajax"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={id:{},name:{},starts_at:{},ends_at:{},raw_invitees:{},url:{},status:{transform:function(e){return i[e]}}},i={standalone:0,public:1,private:2},t=t.default.extend({init:function(){this._super.apply(this,arguments),this.__type="discourse-post-event-event"},update:function(e){return(0,n.ajax)("/discourse-post-event/events/".concat(this.id,".json"),{type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({event:e})})},updateProperties:function(){var e=Object.keys(s);return this.getProperties(e)},createProperties:function(){var e=Object.keys(s);return this.getProperties(e)},_transformProps:function(n){Object.keys(s).forEach(function(e){var t=s[e];t.transform&&(n[e]=t.transform(n[e]))})},beforeUpdate:function(e){this._transformProps(e)},beforeCreate:function(e){this._transformProps(e)}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-reminder",["exports","discourse/models/rest"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({init:function(){this._super.apply(this,arguments),this.__type="discourse-post-event-reminder"}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-invitee",["exports","discourse/models/rest"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({init:function(){this._super.apply(this,arguments),this.__type="discourse-post-event-invitee"}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezone",["exports","discourse/widgets/widget"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-group-timezone",{tagName:"div.group-timezone",buildClasses:function(e){var t=[];return e.groupedTimezone.closeToWorkingHours&&t.push("close-to-working-hours"),e.groupedTimezone.inWorkingHours&&t.push("in-working-hours"),t.join(" ")},transform:function(e){return{formatedTime:e.groupedTimezone.nowWithOffset.format("LT")}},template:function(t,e){var n=this,s=__widget_helpers.rawHtml,i=[];i.push("\n    ");var a=[];a.push("\n      ");var r=[];r.push("\n        "),r.push(this.transformed.formatedTime),r.push("\n      "),a.push(virtualDom.h("span",{className:"time",attributes:{}},r)),a.push("\n      ");r=[];r.push("\n        "),r.push(new s({html:"<span>"+t.groupedTimezone.utcOffset+"</span>"})),r.push("\n      "),a.push(virtualDom.h("span",{className:"offset",attributes:{title:"UTC offset"}},r)),a.push("\n    "),i.push(virtualDom.h("div",{className:"info",attributes:{}},a)),i.push("\n    ");var o=[];return o.push("\n"),t.groupedTimezone.members&&t.groupedTimezone.members.length&&t.groupedTimezone.members.forEach(function(e){o.push("        "),o.push(n.attach("discourse-group-timezones-member",{usersOnHoliday:t.usersOnHoliday,member:e})),o.push("\n")}),o.push("    "),i.push(virtualDom.h("ul",{className:"group-timezones-members",attributes:{}},o)),i.push("\n  "),i}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/event-reminder-notification-item",["I18n","discourse/widgets/widget","discourse/widgets/default-notification-item","discourse/lib/utilities","discourse-common/lib/icon-library"],function(i,e,t,a,n){"use strict";(0,e.createWidgetFrom)(t.DefaultNotificationItem,"event-reminder-notification-item",{notificationTitle:function(e,t){return t.title?i.default.t(t.title):""},text:function(e,t){var n=(0,a.formatUsername)(t.display_username),s=t.topic_title?'<span data-topic-id="'.concat(this.attrs.topic_id,'">').concat(t.topic_title,"</span>"):this.description(t);return i.default.t(t.message,{description:s,username:n})},icon:function(e,t){return(0,n.iconNode)("notification.".concat(t.message))}})}),define("discourse/plugins/discourse-calendar/discourse/widgets/going-button",["exports","discourse/widgets/widget"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("going-button",{tagName:"button.going-button.btn.btn-default",click:function(){this.sendWidgetAction("changeWatchingInviteeStatus","going")},template:function(e,t){var n=__widget_helpers.iconNode,s=[];s.push("\n    "),s.push(n("check")),s.push("\n    ");n=[];return n.push("\n      "),n.push(I18n.t("discourse_post_event.models.invitee.status.going")),n.push("\n    "),s.push(virtualDom.h("span",{className:"label",attributes:{}},n)),s.push("\n  "),s}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/more-dropdown",["exports","I18n","discourse/widgets/widget"],function(e,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("more-dropdown",{tagName:"div.more-dropdown",buildKey:function(){return"more-dropdown"},transform:function(e){var t=this;return{content:this._buildContent(e),onChange:function(e){return t.sendWidgetAction(e.id,e.param)},options:{}}},template:function(e,t){var n=[];return n.push("\n    "),n.push(this.attach("widget-dropdown",{id:"more-dropdown",translatedLabel:"More",icon:"ellipsis-h",content:this.transformed.content,onChange:this.transformed.onChange,options:this.transformed.options})),n.push("\n  "),n},buildClasses:function(e){if(!this._buildContent(e).length)return["has-no-actions"]},_buildContent:function(e){var t=[];return e.eventModel.is_expired||t.push({id:"addToCalendar",icon:"file",label:"discourse_post_event.event_ui.add_to_calendar"}),this.currentUser&&t.push({id:"sendPMToCreator",icon:"envelope",translatedLabel:n.default.t("discourse_post_event.event_ui.send_pm_to_creator",{username:e.eventModel.creator.username})}),!e.is_expired&&e.canActOnEvent&&e.isPublicEvent&&t.push({id:"inviteUserOrGroup",icon:"user-plus",label:"discourse_post_event.event_ui.invite",param:e.eventModel.id}),e.canActOnEvent&&(t.push("separator"),t.push({icon:"file-csv",id:"exportPostEvent",label:"discourse_post_event.event_ui.export_event",param:e.eventModel.id}),e.eventModel.is_expired||e.eventModel.is_standalone||t.push({icon:"file-upload",id:"bulkInvite",label:"discourse_post_event.event_ui.bulk_invite",param:e.eventModel}),t.push({icon:"pencil-alt",id:"editPostEvent",label:"discourse_post_event.event_ui.edit_event",param:e.eventModel.id}),e.eventModel.is_expired||t.push({icon:"times",id:"closeEvent",label:"discourse_post_event.event_ui.close_event",class:"danger",param:e.eventModel})),t}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-url",["exports","discourse-common/lib/icon-library","virtual-dom","discourse/widgets/widget"],function(e,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-post-event-url",{tagName:"section.event-url",html:function(e){return[(0,n.iconNode)("link"),(0,s.h)("a.url",{attributes:{href:-1===(t=e.url).indexOf("://")&&-1===t.indexOf("mailto:")?"https://"+t:t,target:"_blank",rel:"noopener noreferrer"}},e.url)];var t}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event",["exports","I18n","discourse/lib/text","discourse/lib/export-csv","discourse/plugins/discourse-calendar/lib/clean-title","@ember/string","@ember/object","discourse/lib/show-modal","discourse/widgets/widget","discourse/helpers/route-action","discourse-common/lib/get-url","../../lib/raw-event-helper"],function(e,l,r,t,n,a,s,o,i,u,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i=(e.default=void 0,i.createWidget)("discourse-post-event",{tagName:"div.discourse-post-event-widget",buildKey:function(e){return"discourse-post-event-".concat(e.id)},buildClasses:function(){if(this.state.event)return["has-discourse-post-event"]},inviteUserOrGroup:function(e){this.store.find("discourse-post-event-event",e).then(function(e){(0,o.default)("discourse-post-event-invite-user-or-group",{model:e})})},showAllInvitees:function(e){var t=e.postId,n=e.title||"title_invited",s=e.extraClass||"invited",i="discourse-post-event-invitees";this.store.find("discourse-post-event-event",t).then(function(e){(0,o.default)(i,{model:e,title:"discourse_post_event.invitees_modal.".concat(n),modalClass:["".concat((0,a.dasherize)(i).toLowerCase(),"-modal"),s].join(" ")})})},editPostEvent:function(e){this.store.find("discourse-post-event-event",e).then(function(e){(0,o.default)("discourse-post-event-builder",{model:{eventModel:e,topicId:e.post.topic.id}})})},closeEvent:function(i){var a=this;bootbox.confirm(l.default.t("discourse_post_event.builder_modal.confirm_close"),l.default.t("no_value"),l.default.t("yes_value"),function(e){if(e)return a.store.find("post",i.id).then(function(t){var e=t.raw,n=i.starts_at?moment(i.starts_at):moment(),n=(0,c.buildParams)(moment().isBefore(n)?moment():n,moment().isBefore(n)?moment().add(1,"minute"):moment(),i,a.siteSettings),e=(0,c.replaceRaw)(n,e);if(e){var s={raw:e,edit_reason:l.default.t("discourse_post_event.edit_reason")};return r.default.cookAsync(e).then(function(e){return s.cooked=e.string,t.save(s)})}})})},changeWatchingInviteeStatus:function(e){this.state.eventModel.watching_invitee?this.store.update("discourse-post-event-invitee",this.state.eventModel.watching_invitee.id,{status:e,post_id:this.state.eventModel.id}):this.store.createRecord("discourse-post-event-invitee").save({post_id:this.state.eventModel.id,status:e})},defaultState:function(e){return{eventModel:e.eventModel}},exportPostEvent:function(e){(0,t.exportEntity)("post_event",{name:"post_event",id:e})},bulkInvite:function(e){(0,o.default)("discourse-post-event-bulk-invite",{model:{eventModel:e}})},sendPMToCreator:function(){var e=this.register.lookup("service:router")._router;(0,u.routeAction)("composePrivateMessage",e,s.default.create(this.state.eventModel.creator),s.default.create(this.state.eventModel.post)).call()},addToCalendar:function(){var e=(0,d.default)("/discourse-post-event/events.ics?post_id=".concat(this.state.eventModel.id));window.open(e,"_blank","noopener")},transform:function(){var e=this.state.eventModel;return{eventStatusLabel:l.default.t("discourse_post_event.models.event.status.".concat(e.status,".title")),eventStatusDescription:l.default.t("discourse_post_event.models.event.status.".concat(e.status,".description")),startsAtMonth:moment(e.starts_at).format("MMM"),startsAtDay:moment(e.starts_at).format("D"),eventName:(0,r.emojiUnescape)(e.name||this._cleanTopicTitle(e.post.topic.title,e.starts_at)),statusClass:"status ".concat(e.status),isPublicEvent:"public"===e.status,isStandaloneEvent:"standalone"===e.status,canActOnEvent:this.currentUser&&this.state.eventModel.can_act_on_discourse_post_event}},template:function(e,t){var n,s,i,a,r,o=__widget_helpers.rawHtml,u=[];return u.push("\n"),t.eventModel&&(u.push("      "),(r=[]).push("\n        "),(s=[]).push("\n          "),(n=[]).push(this.transformed.startsAtMonth),s.push(virtualDom.h("div",{className:"month",attributes:{}},n)),s.push("\n          "),(n=[]).push(this.transformed.startsAtDay),s.push(virtualDom.h("div",{className:"day",attributes:{}},n)),s.push("\n        "),r.push(virtualDom.h("div",{className:"event-date",attributes:{}},s)),r.push("\n        "),(n=[]).push("\n          "),(s=[]).push("\n            "),s.push(new o({html:"<span>"+this.transformed.eventName+"</span>"})),s.push("\n          "),n.push(virtualDom.h("span",{className:"name",attributes:{}},s)),n.push("\n          "),(s=[]).push("\n"),this.transformed.isStandaloneEvent||(t.eventModel.is_expired?(s.push("                "),(a=[]).push("\n                  "),a.push(l.default.t("discourse_post_event.models.event.expired")),a.push("\n                "),s.push(virtualDom.h("span",{className:"status expired",attributes:{}},a))):(s.push("                "),(i=[]).push("\n                  "),i.push(this.transformed.eventStatusLabel),i.push("\n                "),s.push(virtualDom.h("span",{className:this.transformed.statusClass,attributes:{title:this.transformed.eventStatusDescription}},i))),s.push("\n"),s.push("              "),(a=[]).push("·"),s.push(virtualDom.h("span",{className:"separator",attributes:{}},a)),s.push("\n")),s.push("            "),(i=[]).push("\n              "),(a=[]).push(l.default.t("discourse_post_event.event_ui.created_by")),i.push(virtualDom.h("span",{className:"created-by",attributes:{}},a)),i.push("\n              "),i.push(this.attach("discourse-post-event-creator",{user:t.eventModel.creator})),i.push("\n            "),s.push(virtualDom.h("span",{className:"creators",attributes:{}},i)),s.push("\n          "),n.push(virtualDom.h("div",{className:"status-and-creators",attributes:{}},s)),n.push("\n        "),r.push(virtualDom.h("div",{className:"event-info",attributes:{}},n)),r.push("\n\n        "),r.push(this.attach("more-dropdown",{canActOnEvent:this.transformed.canActOnEvent,isPublicEvent:this.transformed.isPublicEvent,eventModel:t.eventModel})),r.push("\n      "),u.push(virtualDom.h("header",{className:"event-header",attributes:{}},r)),u.push("\n\n"),t.eventModel.can_update_attendance&&(u.push("        "),(r=[]).push("\n          "),r.push(this.attach("discourse-post-event-status",{watchingInvitee:this.state.eventModel.watching_invitee})),r.push("\n        "),u.push(virtualDom.h("section",{className:"event-actions",attributes:{}},r)),u.push("\n")),u.push("\n"),this.state.eventModel.url&&(u.push("        "),u.push(virtualDom.h("hr",[])),u.push("\n\n        "),u.push(this.attach("discourse-post-event-url",{url:this.state.eventModel.url})),u.push("\n")),u.push("\n      "),u.push(virtualDom.h("hr",[])),u.push("\n\n      "),u.push(this.attach("discourse-post-event-dates",{localDates:e.localDates,eventModel:t.eventModel})),u.push("\n\n"),t.eventModel.should_display_invitees&&(u.push("        "),u.push(virtualDom.h("hr",[])),u.push("\n\n        "),u.push(this.attach("discourse-post-event-invitees",{eventModel:t.eventModel})),u.push("\n"))),u.push("  "),u},_cleanTopicTitle:function(e,t){t=(0,n.default)(e,t);return t?e.replace(t,""):e}});e.default=i}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-member",["exports","virtual-dom","discourse/widgets/post","discourse/widgets/widget","discourse/lib/utilities"],function(e,s,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-group-timezones-member",{tagName:"li.group-timezones-member",buildClasses:function(e){return e.usersOnHoliday.includes(e.member.username)?"on-holiday":"not-on-holiday"},html:function(e){var t=e.member,n=t.name,e=t.username,t=t.avatar_template;return(0,s.h)("a",{attributes:{class:"group-timezones-member-avatar","data-user-card":e}},(0,i.avatarImg)("small",{template:t,username:n||(0,a.formatUsername)(e)}))}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/not-going-button",["exports","discourse/widgets/widget"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("not-going-button",{tagName:"button.not-going-button.btn.btn-default",click:function(){this.sendWidgetAction("changeWatchingInviteeStatus","not_going")},template:function(e,t){var n=__widget_helpers.iconNode,s=[];s.push("\n    "),s.push(n("times")),s.push("\n    ");n=[];return n.push("\n      "),n.push(I18n.t("discourse_post_event.models.invitee.status.not_going")),n.push("\n    "),s.push(virtualDom.h("span",{className:"label",attributes:{}},n)),s.push("\n  "),s}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-dates",["exports","I18n","discourse/widgets/raw-html","discourse-common/lib/icon-library","virtual-dom","discourse/widgets/widget"],function(e,s,i,a,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-post-event-dates",{tagName:"section.event-dates",showAllParticipatingInvitees:function(e){this.sendWidgetAction("showAllInvitees",{postId:e,title:"title_participated",extraClass:"participated"})},html:function(e){var t,n=[(0,a.iconNode)("clock"),(0,r.h)("span.date",new i.default({html:"<span>".concat(e.localDates,"</span>")}))];return e.eventModel.is_expired&&"standalone"!==e.eventModel.status&&(t=s.default.t("discourse_post_event.event_ui.participants",{count:e.eventModel.stats.going}),e=0<e.eventModel.stats.going?this.attach("link",{action:"showAllParticipatingInvitees",actionParam:e.eventModel.id,contents:function(){return t}}):t,n.push((0,r.h)("span.participants",[(0,r.h)("span"," - "),e]))),n}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-reset",["exports","discourse/widgets/widget"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-group-timezones-reset",{tagName:"div.group-timezones-reset",onResetOffset:function(){this.sendWidgetAction("onChangeCurrentUserTimeOffset",0);var e=document.getElementById(this.attrs.id).querySelector("input[type=range].group-timezones-slider");e&&(e.value=0)},transform:function(e){return{isDisabled:0===e.localTimeOffset}},template:function(e,t){var n=[];return n.push("\n    "),n.push(this.attach("button",{disabled:this.transformed.isDisabled,action:"onResetOffset",icon:"undo"})),n.push("\n  "),n}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezone-new-day",["exports","discourse/widgets/widget"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-group-timezone-new-day",{tagName:"div.group-timezone-new-day",template:function(e,t){var n=__widget_helpers.iconNode,s=[];s.push("\n    ");var i=[];i.push("\n      "),i.push(n("chevron-left")),i.push("\n      "),i.push(this.attrs.groupedTimezone.beforeDate),i.push("\n    "),s.push(virtualDom.h("span",{className:"before",attributes:{}},i)),s.push("\n    ");i=[];return i.push("\n      "),i.push(this.attrs.groupedTimezone.afterDate),i.push("\n      "),i.push(n("chevron-right")),i.push("\n    "),s.push(virtualDom.h("span",{className:"after",attributes:{}},i)),s.push("\n  "),s}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-slider",["exports","discourse/widgets/widget","@ember/runloop"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-group-timezones-slider",{tagName:"input.group-timezones-slider",input:function(e){this._handleSliderEvent(e)},change:function(e){this._handleSliderEvent(e)},changeOffsetThrottler:function(e){(0,n.throttle)(this,function(){this.sendWidgetAction("onChangeCurrentUserTimeOffset",e)},75)},buildAttributes:function(){return{step:1,value:0,min:-48,max:48,type:"range"}},_handleSliderEvent:function(e){e=15*parseInt(e.target.value,10);this.changeOffsetThrottler(e)}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones",["exports","discourse/widgets/widget","discourse/plugins/discourse-calendar/lib/round-time"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-group-timezones",{tagName:"div.group-timezones",buildKey:function(e){return"group-timezones-".concat(e.id)},buildClasses:function(e){return e.size},buildAttributes:function(e){return{id:e.id}},defaultState:function(){return{localTimeOffset:0}},onChangeCurrentUserTimeOffset:function(e){this.state.localTimeOffset=e},transform:function(e,r){var n,o=this,e=e.members||[],u=[];return e.filterBy("timezone").forEach(function(e){var t,n,s,i,a;o._shouldAddMemberToGroup(o.state.filter,e)&&(i=e.timezone,t=parseInt(moment.tz(i).format("YYYYMDHm"),10),(a=u.findBy("identifier",t))?a.members.push(e):(n=o._roundMoment(moment.tz(i)),s=o._workingDays(),a={identifier:t,offset:i=moment.tz(moment.utc(),i).utcOffset(),type:"discourse-group-timezone",nowWithOffset:n.add(r.localTimeOffset,"minutes"),closeToWorkingHours:o._closeToWorkingHours(n,s),inWorkingHours:o._inWorkingHours(n,s),utcOffset:o._utcOffset(i),members:[e]},u.push(a)))}),(u=u.sortBy("offset").filter(function(e){return e.members.length})).forEach(function(e,t){0<t&&u[t-1].nowWithOffset.format("dddd")!==e.nowWithOffset.format("dddd")&&(n=t)}),n&&u.splice(n,0,{type:"discourse-group-timezone-new-day",beforeDate:u[n-1].nowWithOffset.format("dddd"),afterDate:u[n].nowWithOffset.format("dddd")}),{groupedTimezones:u}},onChangeFilter:function(e){this.state.filter=e&&e.length?e:null},template:function(t,e){var n=this,s=[];s.push("\n    "),s.push(this.attach("discourse-group-timezones-header",{id:t.id,group:t.group,localTimeOffset:e.localTimeOffset})),s.push("\n    ");var i=[];return i.push("\n"),this.transformed.groupedTimezones&&this.transformed.groupedTimezones.length&&this.transformed.groupedTimezones.forEach(function(e){i.push("        "),i.push(n.attach(e.type,{usersOnHoliday:t.usersOnHoliday,groupedTimezone:e})),i.push("\n")}),i.push("    "),s.push(virtualDom.h("div",{className:"group-timezones-body",attributes:{}},i)),s.push("\n  "),s},_shouldAddMemberToGroup:function(e,t){return!e||(e=e.toLowerCase(),!!(-1<t.username.toLowerCase().indexOf(e)||t.name&&-1<t.name.toLowerCase().indexOf(e)))},_roundMoment:function(e){return this.state.localTimeOffset&&(e=(0,n.default)(e)),e},_closeToWorkingHours:function(e,t){var n=e.hours(),s=this.siteSettings.working_day_start_hour,i=this.siteSettings.working_day_end_hour,a=this.siteSettings.close_to_working_day_hours_extension;return(n>=Math.max(s-a,0)&&n<=s||n<=Math.min(i+a,23)&&i<=n)&&t.includes(e.isoWeekday())},_inWorkingHours:function(e,t){var n=e.hours();return n>this.siteSettings.working_day_start_hour&&n<this.siteSettings.working_day_end_hour&&t.includes(e.isoWeekday())},_utcOffset:function(e){var t=1===Math.sign(e)?"+":"-";e=Math.abs(e);var n=1===(n=Math.floor(e/60).toString()).length?"0".concat(n):n,e=1===(e=(e%60).toString()).length?":".concat(e,"0"):":".concat(e);return"".concat(t).concat(n.replace(/^0(\d)/,"$1")).concat(e.replace(/:00$/,"")).replace(/-0/,"&nbsp;")},_workingDays:function(){var t=moment().locale("en");return this.siteSettings.working_days.split("|").filter(Boolean).map(function(e){return e=e,t.localeData()._weekdays.indexOf(e)||7})}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-header",["exports","I18n","discourse/widgets/widget"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(e.default=void 0,n.createWidget)("discourse-group-timezones-header",{tagName:"div.group-timezones-header",transform:function(e){return{title:t.default.t("group_timezones.group_availability",{group:e.group})}},template:function(e,t){var n=[];n.push("\n    "),n.push(this.attach("discourse-group-timezones-time-traveler",{id:e.id,localTimeOffset:e.localTimeOffset})),n.push("\n    ");var s=[];return s.push("\n      "),s.push(this.transformed.title),s.push("\n    "),n.push(virtualDom.h("span",{className:"title",attributes:{}},s)),n.push("\n    "),n.push(this.attach("discourse-group-timezones-filter",e)),n.push("\n  "),n}});e.default=n}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-filter",["exports","I18n","discourse/widgets/widget","@ember/runloop"],function(e,t,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=(e.default=void 0,n.createWidget)("discourse-group-timezones-filter",{tagName:"input.group-timezones-filter",input:function(e){this.changeFilterThrottler(e.target.value)},changeFilterThrottler:function(e){(0,s.throttle)(this,function(){this.sendWidgetAction("onChangeFilter",e)},100)},buildAttributes:function(){return{type:"text",placeholder:t.default.t("group_timezones.search")}}});e.default=n}),define("discourse/plugins/discourse-calendar/discourse/widgets/event-invitation-notification-item",["I18n","discourse/widgets/widget","discourse/widgets/default-notification-item","discourse/lib/utilities","discourse-common/lib/icon-library"],function(i,e,t,a,n){"use strict";(0,e.createWidgetFrom)(t.DefaultNotificationItem,"event-invitation-notification-item",{notificationTitle:function(e,t){return t.title?i.default.t(t.title):""},text:function(e,t){var n=(0,a.formatUsername)(t.display_username),s=t.topic_title?'<span data-topic-id="'.concat(this.attrs.topic_id,'">').concat(t.topic_title,"</span>"):this.description(t);return i.default.t(t.message,{description:s,username:n})},icon:function(e,t){return(0,n.iconNode)("notification.".concat(t.message))}})}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-time-traveler",["exports","discourse/widgets/widget","discourse/plugins/discourse-calendar/lib/round-time"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-group-timezones-time-traveler",{tagName:"div.group-timezones-time-traveler",transform:function(e){var t=moment().add(e.localTimeOffset,"minutes");return e.localTimeOffset&&(t=(0,n.default)(t)),{localTimeWithOffset:t.format("HH:mm")}},template:function(e,t){var n=[];n.push("\n    ");var s=[];return s.push("\n      "),s.push(this.transformed.localTimeWithOffset),s.push("\n    "),n.push(virtualDom.h("span",{className:"time",attributes:{}},s)),n.push("\n    "),n.push(this.attach("discourse-group-timezones-slider",e)),n.push("\n    "),n.push(this.attach("discourse-group-timezones-reset",{id:e.id,localTimeOffset:e.localTimeOffset})),n.push("\n  "),n}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-host",["exports","virtual-dom","discourse/widgets/post","discourse/widgets/widget","discourse/lib/utilities"],function(e,s,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-post-event-creator",{tagName:"span.event-creator",html:function(e){var t=e.user,n=t.name,e=t.username,t=t.avatar_template;return(0,s.h)("a",{attributes:{class:"topic-invitee-avatar","data-user-card":e}},[(0,i.avatarImg)("tiny",{template:t,username:n||(0,a.formatUsername)(e)}),(0,s.h)("span",{attributes:{class:"username"}},n||(0,a.formatUsername)(e))])}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-invitees",["exports","discourse/widgets/widget"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-post-event-invitees",{tagName:"section.event-invitees",transform:function(e){return{isPrivateEvent:"private"===e.eventModel.status}},template:function(e,t){var n=this,s=[];s.push("\n    ");var i=[];i.push("\n      ");var a=[];a.push("\n        ");var r=[];r.push(e.eventModel.stats.going),r.push(" "),r.push(I18n.t("discourse_post_event.models.invitee.status.going")),r.push(" -"),a.push(virtualDom.h("span",r)),a.push("\n        ");r=[];r.push(e.eventModel.stats.interested),r.push(" "),r.push(I18n.t("discourse_post_event.models.invitee.status.interested")),r.push(" -"),a.push(virtualDom.h("span",r)),a.push("\n        ");r=[];r.push(e.eventModel.stats.not_going),r.push(" "),r.push(I18n.t("discourse_post_event.models.invitee.status.not_going")),a.push(virtualDom.h("span",r)),a.push("\n"),this.transformed.isPrivateEvent&&(a.push("          "),(r=[]).push("- on "),r.push(e.eventModel.stats.invited),r.push(" users invited"),a.push(virtualDom.h("span",{className:"invited",attributes:{}},r)),a.push("\n")),a.push("      "),i.push(virtualDom.h("div",{className:"event-invitees-status",attributes:{}},a)),i.push("\n\n      "),i.push(this.attach("button",{className:"show-all btn-small",label:"discourse_post_event.event_ui.show_all",action:"showAllInvitees",actionParam:{postId:e.eventModel.id}})),i.push("\n    "),s.push(virtualDom.h("div",{className:"header",attributes:{}},i)),s.push("\n    ");var o=[];return o.push("\n"),e.eventModel.sample_invitees&&e.eventModel.sample_invitees.length&&e.eventModel.sample_invitees.forEach(function(e){o.push("        "),o.push(n.attach("discourse-post-event-invitee",{invitee:e})),o.push("\n")}),o.push("    "),s.push(virtualDom.h("ul",{className:"event-invitees-avatars",attributes:{}},o)),s.push("\n  "),s}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-status",["exports","discourse/widgets/widget"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-post-event-status",{tagName:"div.event-status",buildKey:function(e){return"discourse-post-event-status-".concat(e.id)},buildClasses:function(e){if(e.watchingInvitee)return"status-".concat(e.watchingInvitee.status)},template:function(e,t){var n=[];return n.push("\n    "),n.push(this.attach("going-button",e)),n.push("\n    "),n.push(this.attach("interested-button",e)),n.push("\n    "),n.push(this.attach("not-going-button",e)),n.push("\n  "),n}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-invitee",["exports","I18n","@ember/utils","virtual-dom","discourse/widgets/post","discourse/widgets/widget","discourse/lib/utilities"],function(e,a,n,r,o,t,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("discourse-post-event-invitee",{tagName:"li.event-invitee",buildClasses:function(e){var t=[];return(0,n.isPresent)(e.invitee.status)&&t.push("status-".concat(e.invitee.status)),this.currentUser&&this.currentUser.username===e.invitee.user.username&&t.push("is-current-user"),t},html:function(e){var t,n=e.invitee.user,s=n.name,i=n.username,n=n.avatar_template;switch(e.invitee.status){case"going":t="fa-check";break;case"interested":t="fa-star";break;case"not_going":t="fa-times"}s=[(0,o.avatarImg)(this.site.mobileView?"tiny":"large",{template:n,username:s||(0,u.formatUsername)(i)})];return t&&s.push(this.attach("avatar-flair",{primary_group_name:a.default.t("discourse_post_event.models.invitee.status.".concat(e.invitee.status)),primary_group_flair_url:t})),(0,r.h)("a",{attributes:{class:"topic-invitee-avatar","data-user-card":i}},s)}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/widgets/interested-button",["exports","discourse/widgets/widget"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.createWidget)("interested-button",{tagName:"button.interested-button.btn.btn-default",click:function(){this.sendWidgetAction("changeWatchingInviteeStatus","interested")},template:function(e,t){var n=__widget_helpers.iconNode,s=[];s.push("\n    "),s.push(n("star")),s.push("\n    ");n=[];return n.push("\n      "),n.push(I18n.t("discourse_post_event.models.invitee.status.interested")),n.push("\n    "),s.push(virtualDom.h("span",{className:"label",attributes:{}},n)),s.push("\n  "),s}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/routes/discourse-post-event-upcoming-events-index",["exports","discourse/lib/url","@ember/routing/route","@ember/object/evented"],function(e,t,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;s=n.default.extend({enforcePostEventEnabled:(0,s.on)("activate",function(){this.siteSettings.discourse_post_event_enabled||t.default.redirectTo("/404")}),model:function(e){return this.store.findAll("discourse-post-event-event",e)}});e.default=s}),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-event",["exports","./discourse-post-event-adapter","@ember/string"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({pathFor:function(e,t,n){t=this.basePath(e,t,n)+(0,s.underscore)(e.pluralize(this.apiNameFor(t)));return this.appendQueryParams(t,n)+".json"},apiNameFor:function(){return"event"}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-adapter",["exports","discourse/adapters/rest"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({basePath:function(){return"/discourse-post-event/"}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-nested-adapter",["exports","./discourse-post-event-adapter","@ember/string","discourse/adapters/rest","discourse/lib/ajax"],function(e,t,r,o,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({destroyRecord:function(e,t,n){return(0,u.ajax)(this.pathFor(e,t,{post_id:n.post_id,id:n.id}),{type:"DELETE"})},update:function(e,t,n,s){var i={},a=(0,r.underscore)(this.apiNameFor(t));return i[a]=s,(0,u.ajax)(this.pathFor(e,t,{id:n,post_id:s.post_id}),this.getPayload("PUT",i)).then(function(e){return new o.Result(e[a],e)})},createRecord:function(e,t,n){var s={},i=(0,r.underscore)(this.apiNameFor(t));return s[i]=n,(0,u.ajax)(this.pathFor(e,t,n),this.getPayload("POST",s)).then(function(e){return new o.Result(e[i],e)})},pathFor:function(e,t,n){var s=n.post_id;delete n.post_id;var i=n.id;delete n.id;e=this.basePath(e,t,{})+"events/"+s+"/"+(0,r.underscore)(e.pluralize(this.apiNameFor()));return i&&(e+="/".concat(i)),this.appendQueryParams(e,n)}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-reminder",["exports","./discourse-post-event-nested-adapter"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({apiNameFor:function(){return"reminder"}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-invitee",["exports","./discourse-post-event-nested-adapter"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({apiNameFor:function(){return"invitee"}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/discourse-event-upcoming-events-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.route("discourse-post-event-upcoming-events",{path:"/upcoming-events"},function(){this.route("index",{path:"/"})})}}),define("discourse/plugins/discourse-calendar/discourse/components/upcoming-events-calendar",["exports","rsvp","discourse/plugins/discourse-calendar/lib/guess-best-date-format","discourse/plugins/discourse-calendar/helpers/format-event-name","discourse/lib/load-script","@ember/component","@ember/runloop","discourse-common/lib/get-url"],function(e,n,a,r,s,t,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({tagName:"",events:null,init:function(){this._super.apply(this,arguments),this._calendar=null},willDestroyElement:function(){this._super.apply(this,arguments),this._calendar&&this._calendar.destroy(),this._calendar=null},didInsertElement:function(){this._super.apply(this,arguments),this._renderCalendar()},_renderCalendar:function(){var i=this,e=document.getElementById("upcoming-events-calendar");e&&(e.innerHTML="",this._loadCalendar().then(function(){i._calendar=new window.FullCalendar.Calendar(e,{}),(i.events||[]).forEach(function(e){var t=e.starts_at,n=e.ends_at,s=e.post;i._calendar.addEvent({title:(0,r.formatEventName)(e),start:t,end:n||t,allDay:!(0,a.isNotFullDayEvent)(moment(t),moment(n)),url:(0,o.default)("/t/-/".concat(s.topic.id,"/").concat(s.post_number))})}),i._calendar.render()}))},_loadCalendar:function(){var t=this;return new n.Promise(function(e){(0,s.default)("/plugins/discourse-calendar/javascripts/fullcalendar-with-moment-timezone.min.js").then(function(){(0,i.schedule)("afterRender",function(){t.isDestroying||t.isDestroyed||e()})})})}});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/components/event-field",["exports","@ember/component"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({enabled:!0,class:null});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/components/region-input",["exports","@ember/object","discourse/plugins/discourse-calendar/lib/regions","I18n","select-kit/components/combo-box"],function(e,t,n,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=i.default.extend({pluginApiIdentifiers:["timezone-input"],classNames:["timezone-input"],selectKitOptions:{filterable:!0,allowAny:!1},content:(0,t.computed)(function(){var t={};return JSON.parse(this.siteSettings.available_locales).forEach(function(e){t[e.value]=e.name}),[{name:s.default.t("discourse_calendar.region.none"),id:null}].concat(n.HOLIDAY_REGIONS.map(function(e){return{name:s.default.t("discourse_calendar.region.names.".concat(e)),id:e}}).sort(function(e,t){return e.name.localeCompare(t.name)}))})});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/components/bulk-invite-sample-csv-file",["exports","@ember/component","@ember/object"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,i,a,r,o,u,t=t.default.extend((s=t={downloadSampleCsv:function(){var t="";[["my_awesome_group","going"],["lucy","interested"],["mark","not_going"],["sam","unknown"]].forEach(function(e){t+=e.join(","),t+="\n"});var e=document.createElement("a");e.href="data:text/csv;charset=utf-8,".concat(encodeURI(t)),e.target="_blank",e.rel="noopener noreferrer",e.download="bulk-invite-sample.csv",e.click()}},i="downloadSampleCsv",a=[n.action],r=Object.getOwnPropertyDescriptor(t,"downloadSampleCsv"),o=t,u={},Object.keys(r).forEach(function(e){u[e]=r[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=a.slice().reverse().reduce(function(e,t){return t(s,i,e)||e},u),o&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(s,i,u),u=null),t));e.default=t}),Ember.TEMPLATES["javascripts/modal/discourse-post-event-invite-user-or-group"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-modal-body",null,[["title","class"],["discourse_post_event.invite_user_or_group.title","invite-user-or-group-modal"]],{"statements":[[0,"  "],[7,"form",true],[8],[0,"\\n"],[4,"event-field",null,null,{"statements":[[0,"      "],[1,[28,"user-selector",null,[["single","onChangeCallback","fullWidthWrap","allowAny","includeMessageableGroups","placeholderKey","tabindex","usernames","hasGroups","autocomplete","excludeCurrentUser"],[false,[28,"action",[[23,0,[]],"setInvitedNames"],null],true,false,true,"composer.users_placeholder","1",[24,["invitedNames"]],true,"discourse",true]]],false],[0,"\\n"]],"parameters":[]},null],[0,"  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div",true],[10,"class","modal-footer"],[8],[0,"\\n  "],[1,[28,"d-button",null,[["type","class","label","action"],["button","btn-primary","discourse_post_event.invite_user_or_group.invite",[28,"action",[[23,0,[]],"invite"],null]]]],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/modal/discourse-post-event-invite-user-or-group"}}),Ember.TEMPLATES["javascripts/modal/discourse-post-event-invitees"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["invitee"],"statements":[[4,"d-modal-body",null,null,{"statements":[[0,"  "],[1,[28,"input",null,[["value","input","class","placeholderKey"],[[28,"readonly",[[24,["filter"]]],null],[28,"action",[[23,0,[]],"onFilterChanged"],[["value"],["target.value"]]],"filter","discourse_post_event.invitees_modal.filter_placeholder"]]],false],[0,"\\n\\n"],[4,"conditional-loading-spinner",null,[["condition"],[[24,["isLoading"]]]],{"statements":[[0,"  "],[7,"ul",true],[10,"class","invitees"],[8],[0,"\\n"],[4,"each",[[24,["invitees"]]],null,{"statements":[[0,"      "],[7,"li",true],[10,"class","invitee"],[8],[0,"\\n        "],[1,[28,"render-invitee",[[23,1,[]]],null],false],[0,"\\n\\n"],[4,"if",[[23,1,["status"]]],null,{"statements":[[0,"          "],[7,"span",true],[11,"class",[29,["status ",[23,1,["status"]]]]],[8],[0,"\\n            "],[1,[28,"i18n",[[28,"concat",["discourse_post_event.models.invitee.status.",[23,1,["status"]]],null]],null],false],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[7,"span",true],[10,"class","status"],[8],[0,"\\n            -\\n          "],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[24,["model","can_act_on_discourse_post_event"]]],null,{"statements":[[0,"          "],[1,[28,"d-button",null,[["icon","action"],["trash-alt",[28,"action",[[23,0,[]],"removeInvitee",[23,1,[]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"      "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"  "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/modal/discourse-post-event-invitees"}}),Ember.TEMPLATES["javascripts/modal/discourse-post-event-bulk-invite"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["bulkInvite"],"statements":[[4,"d-modal-body",null,[["title","class"],[[28,"concat",["discourse_post_event.bulk_invite_modal.title"],null],"discourse-post-event-bulk-invite"]],{"statements":[[0,"  "],[7,"div",true],[10,"class","bulk-invites"],[8],[0,"\\n    "],[7,"p",true],[10,"class","bulk-event-help"],[8],[1,[28,"i18n",[[28,"concat",["discourse_post_event.bulk_invite_modal.description_",[24,["model","eventModel","status"]]],null]],null],false],[9],[0,"\\n    "],[7,"h3",true],[8],[1,[28,"i18n",["discourse_post_event.bulk_invite_modal.inline_title"],null],false],[9],[0,"\\n\\n    "],[7,"div",true],[10,"class","bulk-invite-rows"],[8],[0,"\\n"],[4,"each",[[24,["bulkInvites"]]],null,{"statements":[[0,"        "],[7,"div",true],[10,"class","bulk-invite-row"],[8],[0,"\\n"],[4,"if",[[24,["model","eventModel","is_private"]]],null,{"statements":[[0,"            "],[1,[28,"group-selector",null,[["class","single","groupFinder","groupNames","placeholderKey"],["bulk-invite-identifier",true,[24,["groupFinder"]],[23,1,["identifier"]],"discourse_post_event.bulk_invite_modal.group_selector_placeholder"]]],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[24,["model","eventModel","is_public"]]],null,{"statements":[[0,"            "],[1,[28,"user-selector",null,[["class","single","placeholderKey","usernames","autocomplete"],["bulk-invite-identifier",true,"discourse_post_event.bulk_invite_modal.user_selector_placeholder",[23,1,["identifier"]],"discourse"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n          "],[1,[28,"combo-box",null,[["class","value","content","nameProperty","valueProperty","onChange"],["bulk-invite-attendance",[23,1,["attendance"]],[24,["bulkInviteStatuses"]],"name","name",[28,"action",[[23,0,[]],[28,"mut",[[23,1,["attendance"]]],null]],null]]]],false],[0,"\\n\\n          "],[1,[28,"d-button",null,[["icon","action","class"],["trash-alt",[28,"action",[[23,0,[]],"removeBulkInvite",[23,1,[]]],null],"remove-bulk-invite"]]],false],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[9],[0,"\\n\\n    "],[7,"div",true],[10,"class","bulk-invite-actions"],[8],[0,"\\n      "],[1,[28,"d-button",null,[["class","label","action","disabled"],["send-bulk-invites btn-primary","discourse_post_event.bulk_invite_modal.send_bulk_invites",[28,"action",[[23,0,[]],"sendBulkInvites"],null],[24,["bulkInviteDisabled"]]]]],false],[0,"\\n      "],[1,[28,"d-button",null,[["class","icon","action"],["add-bulk-invite","plus",[28,"action",[[23,0,[]],"addBulkInvite"],null]]]],false],[0,"\\n    "],[9],[0,"\\n\\n  "],[9],[0,"\\n\\n  "],[7,"div",true],[10,"class","csv-bulk-invites"],[8],[0,"\\n    "],[7,"h3",true],[8],[1,[28,"i18n",["discourse_post_event.bulk_invite_modal.csv_title"],null],false],[9],[0,"\\n\\n    "],[7,"div",true],[10,"class","bulk-invite-actions"],[8],[0,"\\n      "],[1,[22,"bulk-invite-sample-csv-file"],false],[0,"\\n\\n      "],[1,[28,"csv-uploader",null,[["uploadUrl","i18nPrefix","uploading","uploadDone"],[[28,"concat",["/discourse-post-event/events/",[24,["model","id"]],"/csv-bulk-invite"],null],"discourse_post_event.bulk_invite_modal",[24,["uploading"]],[28,"action",[[23,0,[]],"uploadDone"],null]]]],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/modal/discourse-post-event-bulk-invite"}}),Ember.TEMPLATES["javascripts/modal/discourse-post-event-builder"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["allowedCustomField","reminder"],"statements":[[4,"d-modal-body",null,[["title","class"],[[28,"concat",["discourse_post_event.builder_modal.",[24,["modalTitle"]]],null],"discourse-post-event-builder"]],{"statements":[[4,"conditional-loading-section",null,[["isLoading"],[[24,["model","eventModel","isSaving"]]]],{"statements":[[0,"    "],[7,"form",true],[8],[0,"\\n      "],[1,[28,"date-time-input-range",null,[["from","to","toTimeFirst","clearable","onChange"],[[24,["startsAt"]],[24,["endsAt"]],true,true,[28,"action",[[23,0,[]],"onChangeDates"],null]]]],false],[0,"\\n\\n"],[4,"event-field",null,[["class","label"],["name","discourse_post_event.builder_modal.name.label"]],{"statements":[[0,"        "],[1,[28,"input",null,[["value","placeholderKey","input"],[[28,"readonly",[[24,["model","eventModel","name"]]],null],"discourse_post_event.builder_modal.name.placeholder",[28,"action",[[23,0,[]],[28,"mut",[[24,["model","eventModel","name"]]],null]],[["value"],["target.value"]]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"event-field",null,[["class","label"],["url","discourse_post_event.builder_modal.url.label"]],{"statements":[[0,"        "],[1,[28,"input",null,[["value","placeholderKey","input"],[[28,"readonly",[[24,["model","eventModel","url"]]],null],"discourse_post_event.builder_modal.url.placeholder",[28,"action",[[23,0,[]],[28,"mut",[[24,["model","eventModel","url"]]],null]],[["value"],["target.value"]]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"event-field",null,[["label"],["discourse_post_event.builder_modal.status.label"]],{"statements":[[0,"        "],[7,"label",true],[10,"class","radio-label"],[8],[0,"\\n          "],[1,[28,"radio-button",null,[["name","value","selection","onChange"],["status","public",[24,["model","eventModel","status"]],[28,"action",[[23,0,[]],"onChangeStatus"],null]]]],false],[0,"\\n          "],[7,"span",true],[10,"class","message"],[8],[0,"\\n            "],[7,"span",true],[10,"class","title"],[8],[1,[28,"i18n",["discourse_post_event.models.event.status.public.title"],null],false],[9],[0,"\\n            "],[7,"span",true],[10,"class","description"],[8],[1,[28,"i18n",["discourse_post_event.models.event.status.public.description"],null],false],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n        "],[7,"label",true],[10,"class","radio-label"],[8],[0,"\\n          "],[1,[28,"radio-button",null,[["name","value","selection","onChange"],["status","private",[24,["model","eventModel","status"]],[28,"action",[[23,0,[]],"onChangeStatus"],null]]]],false],[0,"\\n          "],[7,"span",true],[10,"class","message"],[8],[0,"\\n            "],[7,"span",true],[10,"class","title"],[8],[1,[28,"i18n",["discourse_post_event.models.event.status.private.title"],null],false],[9],[0,"\\n            "],[7,"span",true],[10,"class","description"],[8],[1,[28,"i18n",["discourse_post_event.models.event.status.private.description"],null],false],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n        "],[7,"label",true],[10,"class","radio-label"],[8],[0,"\\n          "],[1,[28,"radio-button",null,[["name","value","selection","onChange"],["status","standalone",[24,["model","eventModel","status"]],[28,"action",[[23,0,[]],"onChangeStatus"],null]]]],false],[0,"\\n          "],[7,"span",true],[10,"class","message"],[8],[0,"\\n            "],[7,"span",true],[10,"class","title"],[8],[1,[28,"i18n",["discourse_post_event.models.event.status.standalone.title"],null],false],[9],[0,"\\n            "],[7,"span",true],[10,"class","description"],[8],[1,[28,"i18n",["discourse_post_event.models.event.status.standalone.description"],null],false],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"event-field",null,[["enabled","label"],[[24,["allowsInvitees"]],"discourse_post_event.builder_modal.invitees.label"]],{"statements":[[0,"        "],[1,[28,"group-selector",null,[["fullWidthWrap","groupFinder","groupNames","onChangeCallback","placeholderKey"],[true,[24,["groupFinder"]],[24,["model","eventModel","raw_invitees"]],[28,"action",[[23,0,[]],"setRawInvitees"],null],"topic.invite_private.group_name"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"event-field",null,[["class","label"],["reminders","discourse_post_event.builder_modal.reminders.label"]],{"statements":[[0,"        "],[7,"div",true],[10,"class","reminders-list"],[8],[0,"\\n"],[4,"each",[[24,["model","eventModel","reminders"]]],null,{"statements":[[0,"            "],[7,"div",true],[10,"class","reminder-item"],[8],[0,"\\n              "],[1,[28,"input",null,[["class","min","value","placeholderKey","input"],["reminder-value",0,[28,"readonly",[[23,2,["value"]]],null],"discourse_post_event.builder_modal.name.placeholder",[28,"action",[[23,0,[]],[28,"mut",[[23,2,["value"]]],null]],[["value"],["target.value"]]]]]],false],[0,"\\n\\n              "],[1,[28,"combo-box",null,[["class","value","nameProperty","valueProperty","content","onChange"],["reminder-unit",[23,2,["unit"]],null,null,[24,["reminderUnits"]],[28,"action",[[23,0,[]],[28,"mut",[[23,2,["unit"]]],null]],null]]]],false],[0,"\\n\\n              "],[1,[28,"combo-box",null,[["class","value","nameProperty","valueProperty","content","onChange"],["reminder-period",[23,2,["period"]],null,null,[24,["reminderPeriods"]],[28,"action",[[23,0,[]],[28,"mut",[[23,2,["period"]]],null]],null]]]],false],[0,"\\n\\n              "],[1,[28,"d-button",null,[["class","icon","action","disabled"],["remove-reminder","times",[28,"action",[[23,0,[]],"removeReminder",[23,2,[]]],null],[24,["isLoadingReminders"]]]]],false],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[2]},null],[0,"        "],[9],[0,"\\n\\n        "],[1,[28,"d-button",null,[["class","disabled","icon","label","action"],["add-reminder",[24,["addReminderDisabled"]],"plus","discourse_post_event.builder_modal.add_reminder",[28,"action",[[23,0,[]],"addReminder"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"event-field",null,[["class","label"],["recurrence","discourse_post_event.builder_modal.recurrence.label"]],{"statements":[[0,"        "],[1,[28,"combo-box",null,[["class","value","content","onChange","options"],["available-recurrences",[28,"readonly",[[24,["model","eventModel","recurrence"]]],null],[24,["availableRecurrences"]],[28,"action",[[23,0,[]],[28,"mut",[[24,["model","eventModel","recurrence"]]],null]],null],[28,"hash",null,[["none"],["discourse_post_event.builder_modal.recurrence.none"]]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[24,["allowedCustomFields","length"]]],null,{"statements":[[4,"event-field",null,[["label"],["discourse_post_event.builder_modal.custom_fields.label"]],{"statements":[[0,"          "],[7,"p",true],[10,"class","event-field-description"],[8],[1,[28,"i18n",["discourse_post_event.builder_modal.custom_fields.description"],null],false],[9],[0,"\\n"],[4,"each",[[24,["allowedCustomFields"]]],null,{"statements":[[0,"            "],[7,"span",true],[10,"class","label custom-field-label"],[8],[1,[23,1,[]],false],[9],[0,"\\n            "],[1,[28,"input",null,[["class","value","placeholderKey","input"],["custom-field-input",[28,"readonly",[[28,"get",[[24,["model","eventModel","custom_fields"]],[23,1,[]]],null]],null],"discourse_post_event.builder_modal.custom_fields.placeholder",[28,"action",[[23,0,[]],"onChangeCustomField",[23,1,[]]],null]]]],false],[0,"\\n"]],"parameters":[1]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"    "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[7,"div",true],[10,"class","modal-footer"],[8],[0,"\\n"],[4,"if",[[24,["model","eventModel","isNew"]]],null,{"statements":[[0,"    "],[1,[28,"d-button",null,[["type","class","label","icon","action"],["button","btn-primary","discourse_post_event.builder_modal.create","calendar-day",[28,"action",[[23,0,[]],"createEvent"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[28,"d-button",null,[["type","class","label","icon","action"],["button","btn-primary","discourse_post_event.builder_modal.update","calendar-day",[28,"action",[[23,0,[]],"updateEvent"],null]]]],false],[0,"\\n\\n    "],[1,[28,"d-button",null,[["icon","class","action"],["trash-alt","btn-danger","destroyPostEvent"]]],false],[0,"\\n"]],"parameters":[]}],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/modal/discourse-post-event-builder"}}),Ember.TEMPLATES["javascripts/discourse-post-event-upcoming-events"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[22,"outlet"],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/discourse-post-event-upcoming-events"}}),Ember.TEMPLATES["javascripts/components/event-field"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["&default"],"statements":[[4,"if",[[24,["enabled"]]],null,{"statements":[[0,"  "],[7,"div",true],[11,"class",[29,["event-field ",[22,"class"]]]],[8],[0,"\\n"],[4,"if",[[24,["label"]]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","event-field-label"],[8],[0,"\\n        "],[7,"span",true],[10,"class","label"],[8],[1,[28,"i18n",[[24,["label"]]],null],false],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"div",true],[10,"class","event-field-control"],[8],[0,"\\n      "],[14,1],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/event-field"}}),Ember.TEMPLATES["javascripts/components/bulk-invite-sample-csv-file"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"d-button",null,[["label","action"],["discourse_post_event.bulk_invite_modal.download_sample_csv",[28,"action",[[23,0,[]],"downloadSampleCsv"],null]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/bulk-invite-sample-csv-file"}}),Ember.TEMPLATES["javascripts/components/upcoming-events-calendar"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[10,"id","upcoming-events-calendar"],[8],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/upcoming-events-calendar"}}),Ember.TEMPLATES["javascripts/discourse-post-event-upcoming-events-index"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","discourse-post-event-upcoming-events"],[8],[0,"\\n  "],[1,[28,"upcoming-events-calendar",null,[["events"],[[24,["model"]]]]],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/discourse-post-event-upcoming-events-index"}}),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-bulk-invite",["exports","@ember/utils","discourse/lib/ajax","discourse/lib/ajax-error","@ember/object","discourse-common/utils/decorators","discourse/mixins/modal-functionality","@ember/controller","discourse/models/group","I18n"],function(e,n,s,i,t,a,r,o,u,l){"use strict";function d(n,s,e,t,i){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a=o.default.extend(r.default,(r=(0,a.observes)("bulkInvites.@each.identifier"),d(a={bulkInvites:null,bulkInviteStatuses:null,bulkInviteDisabled:!0,init:function(){this._super.apply(this,arguments),this.set("bulkInviteStatuses",[{label:l.default.t("discourse_post_event.models.invitee.status.unknown"),name:"unknown"},{label:l.default.t("discourse_post_event.models.invitee.status.going"),name:"going"},{label:l.default.t("discourse_post_event.models.invitee.status.not_going"),name:"not_going"},{label:l.default.t("discourse_post_event.models.invitee.status.interested"),name:"interested"}])},onShow:function(){this.set("bulkInvites",[t.default.create({identifier:null,attendance:"unknown"})])},groupFinder:function(e){return u.default.findAll({term:e,ignore_automatic:!0})},setBulkInviteDisabled:function(){this.set("bulkInviteDisabled",0===this.bulkInvites.filter(function(e){return(0,n.isPresent)(e.identifier)}).length)},sendBulkInvites:function(){var t=this;return(0,s.ajax)("/discourse-post-event/events/".concat(this.model.eventModel.id,"/bulk-invite.json"),{type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({invitees:this.bulkInvites.filter(function(e){return(0,n.isPresent)(e.identifier)})})}).then(function(e){e.success&&t.send("closeModal")}).catch(function(e){return t.flash((0,i.extractError)(e),"error")})},removeBulkInvite:function(e){this.bulkInvites.removeObject(e),this.bulkInvites.length||this.set("bulkInvites",[t.default.create({identifier:null,attendance:"unknown"})])},addBulkInvite:function(){var e=this.bulkInvites.get("lastObject.attendance")||"unknown";this.bulkInvites.pushObject({identifier:null,attendance:e})},uploadDone:function(){var e=this;bootbox.alert(l.default.t("discourse_post_event.bulk_invite_modal.success"),function(){e.send("closeModal")})}},"groupFinder",[t.action],Object.getOwnPropertyDescriptor(a,"groupFinder"),a),d(a,"setBulkInviteDisabled",[r],Object.getOwnPropertyDescriptor(a,"setBulkInviteDisabled"),a),d(a,"sendBulkInvites",[t.action],Object.getOwnPropertyDescriptor(a,"sendBulkInvites"),a),d(a,"removeBulkInvite",[t.action],Object.getOwnPropertyDescriptor(a,"removeBulkInvite"),a),d(a,"addBulkInvite",[t.action],Object.getOwnPropertyDescriptor(a,"addBulkInvite"),a),d(a,"uploadDone",[t.action],Object.getOwnPropertyDescriptor(a,"uploadDone"),a),a));e.default=a}),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-builder",["exports","I18n","discourse/lib/text","discourse/models/group","discourse/mixins/modal-functionality","@ember/controller","@ember/object","@ember/object/computed","discourse/lib/ajax-error","../../lib/raw-event-helper"],function(e,a,r,t,n,s,i,o,u,l){"use strict";function d(n,s,e,t,i){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c={value:15,unit:"minutes",period:"before"},o=s.default.extend(n.default,(d(o={reminders:null,isLoadingReminders:!1,init:function(){this._super.apply(this,arguments),this.set("reminderUnits",["minutes","hours","days","weeks"]),this.set("reminderPeriods",["before","after"]),this.set("availableRecurrences",[{id:"every_day",name:a.default.t("discourse_post_event.builder_modal.recurrence.every_day")},{id:"every_month",name:a.default.t("discourse_post_event.builder_modal.recurrence.every_month")},{id:"every_weekday",name:a.default.t("discourse_post_event.builder_modal.recurrence.every_weekday")},{id:"every_week",name:a.default.t("discourse_post_event.builder_modal.recurrence.every_week")}])},modalTitle:(0,i.computed)("model.eventModel.isNew",{get:function(){return this.model.eventModel.isNew?"create_event_title":"update_event_title"}}),allowedCustomFields:(0,i.computed)("siteSettings.discourse_post_event_allowed_custom_fields",function(){return this.siteSettings.discourse_post_event_allowed_custom_fields.split("|").filter(Boolean)}),groupFinder:function(e){return t.default.findAll({term:e,ignore_automatic:!0})},allowsInvitees:(0,o.equal)("model.eventModel.status","private"),addReminderDisabled:(0,o.gte)("model.eventModel.reminders.length",5),onChangeCustomField:function(e,t){t=t.target.value;(0,i.set)(this.model.eventModel.custom_fields,e,t)},onChangeStatus:function(e){this.model.eventModel.set("raw_invitees",[]),"private"===e&&this.setRawInvitees(null,this.model.eventModel.raw_invitees.filter(function(e){return"trust_level_0"!==e})),this.set("model.eventModel.status",e)},setRawInvitees:function(e,t){this.set("model.eventModel.raw_invitees",t)},removeReminder:function(e){this.model.eventModel.reminders.removeObject(e)},addReminder:function(){this.model.eventModel.reminders||this.model.eventModel.set("reminders",[]),this.model.eventModel.reminders.pushObject(Object.assign({},c))},startsAt:(0,i.computed)("model.eventModel.starts_at",{get:function(){return this.model.eventModel.starts_at?moment(this.model.eventModel.starts_at):moment()}}),endsAt:(0,i.computed)("model.eventModel.ends_at",{get:function(){return this.model.eventModel.ends_at&&moment(this.model.eventModel.ends_at)}}),standaloneEvent:(0,o.equal)("model.eventModel.status","standalone"),publicEvent:(0,o.equal)("model.eventModel.status","public"),privateEvent:(0,o.equal)("model.eventModel.status","private"),onChangeDates:function(e){this.model.eventModel.setProperties({starts_at:e.from,ends_at:e.to})},destroyPostEvent:function(){var s=this;bootbox.confirm(a.default.t("discourse_post_event.builder_modal.confirm_delete"),a.default.t("no_value"),a.default.t("yes_value"),function(e){if(e)return s.store.find("post",s.model.eventModel.id).then(function(t){var e=t.raw,e=s._removeRawEvent(e),n={raw:e,edit_reason:a.default.t("discourse_post_event.destroy_event")};return r.default.cookAsync(e).then(function(e){return n.cooked=e.string,t.save(n).catch(function(e){return s.flash((0,u.extractError)(e),"error")}).then(function(e){return e&&s.send("closeModal")})})}).catch(function(e){return s.flash((0,u.extractError)(e),"error")})})},createEvent:function(){var n,s;this.startsAt&&(n=(0,l.buildParams)(this.startsAt,this.endsAt,this.model.eventModel,this.siteSettings),s=[],Object.keys(n).forEach(function(e){var t=n[e];s.push("".concat(e,'="').concat(t,'"'))}),this.toolbarEvent.addText("[event ".concat(s.join(" "),"]\n[/event]"))),this.send("closeModal")},updateEvent:function(){var i=this;return this.store.find("post",this.model.eventModel.id).then(function(t){var e=t.raw,n=(0,l.buildParams)(i.startsAt,i.endsAt,i.model.eventModel,i.siteSettings),e=(0,l.replaceRaw)(n,e);if(e){var s={raw:e,edit_reason:a.default.t("discourse_post_event.edit_reason")};return r.default.cookAsync(e).then(function(e){return s.cooked=e.string,t.save(s).catch(function(e){return i.flash((0,u.extractError)(e),"error")}).then(function(e){return e&&i.send("closeModal")})})}})},_removeRawEvent:function(e){var t=new RegExp("\\[event\\s(.*?)\\]\\n\\[\\/event\\]","m");return e.replace(t,"")}},"onChangeCustomField",[i.action],Object.getOwnPropertyDescriptor(o,"onChangeCustomField"),o),d(o,"onChangeStatus",[i.action],Object.getOwnPropertyDescriptor(o,"onChangeStatus"),o),d(o,"setRawInvitees",[i.action],Object.getOwnPropertyDescriptor(o,"setRawInvitees"),o),d(o,"removeReminder",[i.action],Object.getOwnPropertyDescriptor(o,"removeReminder"),o),d(o,"addReminder",[i.action],Object.getOwnPropertyDescriptor(o,"addReminder"),o),d(o,"onChangeDates",[i.action],Object.getOwnPropertyDescriptor(o,"onChangeDates"),o),d(o,"destroyPostEvent",[i.action],Object.getOwnPropertyDescriptor(o,"destroyPostEvent"),o),d(o,"createEvent",[i.action],Object.getOwnPropertyDescriptor(o,"createEvent"),o),d(o,"updateEvent",[i.action],Object.getOwnPropertyDescriptor(o,"updateEvent"),o),o));e.default=o}),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-upcoming-events-index",["exports","@ember/controller"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({});e.default=t}),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-invite-user-or-group",["exports","discourse/mixins/modal-functionality","@ember/controller","@ember/object","discourse/lib/ajax-error","discourse/lib/ajax"],function(e,t,n,s,i,a){"use strict";function r(n,s,e,t,i){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=n.default.extend(t.default,(r(t={invitedNames:null,setInvitedNames:function(e,t){this.set("invitedNames",t)},onClose:function(){this.set("invitedNames",null)},invite:function(){var t=this;return(0,a.ajax)("/discourse-post-event/events/".concat(this.model.id,"/invite.json"),{data:{invites:this.invitedNames||[]},type:"POST"}).then(function(){return t.send("closeModal")}).catch(function(e){return t.flash((0,i.extractError)(e),"error")})}},"setInvitedNames",[s.action],Object.getOwnPropertyDescriptor(t,"setInvitedNames"),t),r(t,"invite",[s.action],Object.getOwnPropertyDescriptor(t,"invite"),t),t));e.default=t}),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-invitees",["exports","discourse/mixins/modal-functionality","@ember/controller","@ember/object","discourse-common/lib/debounce","@ember/runloop"],function(e,t,n,s,i,a){"use strict";function r(n,s,e,t,i){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=n.default.extend(t.default,(r(t={invitees:null,filter:null,isLoading:!1,onShow:function(){this._fetchInvitees()},onFilterChanged:function(e){(i.default||a.debounce)(this,this._fetchInvitees,e,250)},removeInvitee:function(e){var t=this;e.destroyRecord().then(function(){return t._fetchInvitees()})},_fetchInvitees:function(e){var t=this;this.set("isLoading",!0),this.store.findAll("discourse-post-event-invitee",{filter:e,post_id:this.model.id}).then(function(e){return t.set("invitees",e)}).finally(function(){return t.set("isLoading",!1)})}},"onFilterChanged",[s.action],Object.getOwnPropertyDescriptor(t,"onFilterChanged"),t),r(t,"removeInvitee",[s.action],Object.getOwnPropertyDescriptor(t,"removeInvitee"),t),t));e.default=t}),define("discourse/plugins/discourse-calendar/connectors/user-custom-preferences/region",["exports","@ember/object","discourse/plugins/discourse-calendar/lib/regions"],function(e,n,s){"use strict";function i(n,s,e,t,i){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={setupComponent:function(e,t){t.setProperties((i(t={onChange:function(e){this.model.set("custom_fields.holidays-region",e)},useCurrentRegion:function(){this.model.set("custom_fields.holidays-region",s.TIME_ZONE_TO_REGION[moment.tz.guess()]||"us")}},"onChange",[n.action],Object.getOwnPropertyDescriptor(t,"onChange"),t),i(t,"useCurrentRegion",[n.action],Object.getOwnPropertyDescriptor(t,"useCurrentRegion"),t),t))},shouldRender:function(e,t){return t.siteSettings.calendar_enabled}};e.default=t}),define("discourse/plugins/discourse-calendar/connectors/discovery-list-container-top/category-calendar",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={shouldRender:function(e,t){return t.siteSettings.calendar_categories_outlet===t.name}}}),define("discourse/plugins/discourse-calendar/connectors/before-topic-list-body/category-calendar",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={shouldRender:function(e,t){return t.siteSettings.calendar_categories_outlet===t.name}}}),define("discourse/plugins/discourse-calendar/connectors/after-user-name/holiday-flair",["exports","discourse/lib/text"],function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s="desert_island",t={shouldRender:function(e,t){return t.siteSettings.calendar_enabled&&t.site.users_on_holiday&&t.site.users_on_holiday.includes(e.user.username)},setupComponent:function(e,t){t.setProperties({holidayEmojiName:":".concat(s,":"),holidayEmoji:(0,n.emojiUrlFor)(s)})}};e.default=t}),Ember.TEMPLATES["javascripts/templates/connectors/user-custom-preferences/region"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","control-group"],[8],[0,"\\n  "],[7,"label",true],[10,"class","control-label"],[8],[1,[28,"i18n",["discourse_calendar.region.title"],null],false],[9],[0,"\\n  "],[7,"div",true],[10,"class","controls"],[8],[0,"\\n    "],[1,[28,"region-input",null,[["value","onChange","class"],[[24,["model","custom_fields","holidays-region"]],[28,"action",[[23,0,[]],"onChange"],null],"input-xxlarge"]]],false],[0,"\\n  "],[9],[0,"\\n  "],[1,[28,"d-button",null,[["icon","label","action"],["globe","discourse_calendar.region.use_current_region",[28,"action",[[23,0,[]],"useCurrentRegion"],null]]]],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/templates/connectors/user-custom-preferences/region"}}),Ember.TEMPLATES["javascripts/templates/connectors/discovery-list-container-top/category-calendar"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[],"hasEval":false}',meta:{moduleName:"javascripts/templates/connectors/discovery-list-container-top/category-calendar"}}),Ember.TEMPLATES["javascripts/templates/connectors/before-topic-list-body/category-calendar"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","before-topic-list-body-outlet category-calendar"],[8],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/templates/connectors/before-topic-list-body/category-calendar"}}),Ember.TEMPLATES["javascripts/templates/connectors/after-user-name/holiday-flair"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"img",true],[11,"src",[22,"holidayEmoji"]],[10,"class","emoji"],[11,"alt",[22,"holidayEmojiName"]],[8],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/templates/connectors/after-user-name/holiday-flair"}});
//# sourceMappingURL=/assets/plugins/discourse-calendar-42d70a787d6e314455c0b87e672ed62cc472475f9daefef2435cfc7e8cd86fd2.js.map