{"version":3,"sources":["_discourse-whos-online-2a928cefb5b0ec62baa0c2cefce350cd94ebe309e403b4085e4841d2609a418b.js"],"names":["define","_exports","_ember","Object","defineProperty","value","default","_default","Component","extend","tagName","attributeBindings","inject","showWhosOnline","this","get","users","length","siteSettings","whos_online_minimum_display","whos_online_hide_below_minimum_display","property","online","service","slice","whos_online_maximum_display","isLong","whos_online_collapse_threshold","isUsers","_pluginApi","_decorators","_applyDecoratedDescriptor","target","decorators","descriptor","context","desc","keys","forEach","key","enumerable","configurable","initializer","writable","reverse","reduce","decorator","call","undefined","Ember","name","initialize","container","onlineService","lookup","indicatorType","whos_online_avatar_indicator","$","addClass","concat","withPluginApi","api","_dec","_obj","_dec2","_obj2","_dec3","_obj3","modifyClass","classNameBindings","isOnline","user","isUserOnline","id","getOwnPropertyDescriptor","afterModel","updateBodyClass","_super","user_id","modelFor","removeClass","observes","deactivate","whos_online_avatar_indicator_topic_lists","lastPosterId","lastPosterUserId","didInsertElement","_this","appEvents","on","changedUserIds","posts","filter","_ref","map","post","postId","dirtyKeys","keyDirty","onRefresh","queueRerender","willDestroyElement","off","reopenWidget","buildKey","attrs","defaultState","updateOnline","state","buildClasses","_service","_ajax","_user","_site","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","prototype","toString","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","i","arr2","after","messageBus","window","MessageBus","Discourse","__container__","_lastMessageId","find","element","messageProcessor","data","global_id","message_id","currentUsers","unsubscribe","func","ajax","method","then","result","oldUserIds","set","create","newUserIds","subscribe","changedUsers","trigger","msg","console","log","pushObject","matchById","found","removeObject","error","init","startingData","currentProp","apply","arguments","shouldDisplay","whos_online_enabled","whos_online_display_public","currentUser","User","current","trust_level","whos_online_display_min_trust_level","TEMPLATES","HTMLBars","template","block","meta","moduleName"],"mappings":"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","sourceRoot":"/assets/plugins"}