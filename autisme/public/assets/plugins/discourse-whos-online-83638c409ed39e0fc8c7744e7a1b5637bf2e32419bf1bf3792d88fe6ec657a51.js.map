{"version":3,"sourceRoot":"/assets/plugins","sources":["_discourse-whos-online-83638c409ed39e0fc8c7744e7a1b5637bf2e32419bf1bf3792d88fe6ec657a51.js"],"names":["define","_exports","_pluginApi","_decorators","_applyDecoratedDescriptor","target","property","decorators","descriptor","context","desc","Object","keys","forEach","key","enumerable","configurable","initializer","writable","slice","reverse","reduce","decorator","value","call","undefined","defineProperty","default","inject","Ember","name","initialize","container","onlineService","lookup","siteSettings","get","indicatorType","whos_online_avatar_indicator","$","addClass","concat","withPluginApi","api","_dec3","_obj3","modifyClass","_dec","_obj","service","classNameBindings","isOnline","user","this","isUserOnline","id","getOwnPropertyDescriptor","afterModel","updateBodyClass","_super","user_id","modelFor","removeClass","observes","deactivate","whos_online_avatar_indicator_topic_lists","_dec2","_obj2","lastPosterId","lastPosterUserId","didInsertElement","_this","appEvents","on","changedUserIds","posts","filter","_ref","map","post","postId","dirtyKeys","keyDirty","onRefresh","queueRerender","willDestroyElement","off","reopenWidget","buildKey","attrs","defaultState","online","updateOnline","state","buildClasses","_ember","_ajax","_user","_site","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","prototype","toString","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","length","i","arr2","_default","Service","extend","after","messageBus","window","MessageBus","users","Discourse","__container__","_lastMessageId","find","element","messageProcessor","data","global_id","message_id","currentUsers","unsubscribe","func","ajax","method","then","result","oldUserIds","set","create","newUserIds","subscribe","changedUsers","trigger","msg","console","log","pushObject","matchById","found","removeObject","error","init","startingData","currentProp","apply","arguments","shouldDisplay","whos_online_enabled","whos_online_display_public","currentUser","User","current","trust_level","whos_online_display_min_trust_level","Component","tagName","attributeBindings","showWhosOnline","whos_online_minimum_display","whos_online_hide_below_minimum_display","whos_online_maximum_display","isLong","whos_online_collapse_threshold","isUsers","TEMPLATES","HTMLBars","template","block","meta","moduleName"],"mappings":"AAAAA,OAAO,mFAAoF,CAAC,UAAW,2BAA4B,qCAAsC,SAAUC,EAAUC,EAAYC,gBAQvM,SAASC,EAA0BC,EAAQC,EAAUC,EAAYC,EAAYC,GAAW,IAAIC,EAAO,GAAmmB,OAA/lBC,OAAOC,KAAKJ,GAAYK,QAAQ,SAAUC,GAAOJ,EAAKI,GAAON,EAAWM,KAAUJ,EAAKK,aAAeL,EAAKK,WAAYL,EAAKM,eAAiBN,EAAKM,cAAkB,UAAWN,GAAQA,EAAKO,eAAeP,EAAKQ,UAAW,GAAQR,EAAOH,EAAWY,QAAQC,UAAUC,OAAO,SAAUX,EAAMY,GAAa,OAAOA,EAAUjB,EAAQC,EAAUI,IAASA,GAASA,GAAWD,QAAgC,IAArBC,EAAKO,cAA0BP,EAAKa,MAAQb,EAAKO,YAAcP,EAAKO,YAAYO,KAAKf,QAAW,EAAQC,EAAKO,iBAAcQ,QAAsC,IAArBf,EAAKO,cAA0BN,OAAOe,eAAerB,EAAQC,EAAUI,GAAOA,EAAO,MAAeA,EAL7sBC,OAAOe,eAAezB,EAAU,aAAc,CAC5CsB,OAAO,IAETtB,EAAS0B,aAAU,EAInB,IAAIC,EAASC,MAAMD,OAmInB3B,EAAS0B,QAlIM,CACbG,KAAM,oBACNC,WAAY,SAAoBC,GAC9B,IAAIC,EAAgBD,EAAUE,OAAO,0BACjCC,EAAeH,EAAUE,OAAO,uBAE/BD,EAAcG,IAAI,kBAMD,UAFlBC,EAAgBF,EAAaG,gCAOjCC,EAAE,QAAQC,SAAS,eAAeC,OAAOJ,KACzC,EAAInC,EAAWwC,eAAe,MAAO,SAAUC,GAC7C,IAuCoBC,EAAOC,EArC3BF,EAAIG,YAAY,gCAAiCC,GAAO,EAAI5C,EAAYwB,SAAS,OAAQ,6BAUrFvB,EAVoH4C,EAAO,CAC7Hf,cAAeL,EAAOqB,QAAQ,kBAC9BC,kBAAmB,CAAC,wBACpBC,SAAU,SAAkBC,GAC1B,QAAKA,GAIEC,KAAKpB,cAAcqB,aAAaF,EAAKG,MAEZ,WAAY,CAACR,GAAOpC,OAAO6C,yBAAyBR,EAAM,YAAaA,GAAQA,IAGnHL,EAAIG,YAAY,aAAc,CAC5Bb,cAAeL,EAAOqB,QAAQ,kBAC9BQ,WAAY,WAEV,OADAJ,KAAKK,kBACEL,KAAKM,UAEdD,gBAAiB,WACf,IAAIE,EAAUP,KAAKQ,SAAS,QAAQN,GACrBF,KAAKjB,IAAI,iBAAiBkB,aAAaM,GAGpD/B,MAAMU,EAAE,QAAQC,SAAS,oBAEzBX,MAAMU,EAAE,QAAQuB,YAAY,qBAE9BC,SAAS,6BACXC,WAAY,WACVX,KAAKM,SAEL9B,MAAMU,EAAE,QAAQuB,YAAY,uBAI5B3B,EAAa8B,2CAGftB,EAAIG,YAAY,6BAA8BoB,GAAQ,EAAI/D,EAAYwB,SAAS,sBAAuB,0BAA2B,6BAM7HvB,EAN4J+D,EAAQ,CACtKlC,cAAeL,EAAOqB,QAAQ,kBAC9BC,kBAAmB,CAAC,+BACpBC,SAAU,SAAkBiB,EAAcC,GACxC,OAAOhB,KAAKjB,IAAI,iBAAiBkB,aAAac,GAAgBC,KAE7B,WAAY,CAACH,GAAQvD,OAAO6C,yBAAyBW,EAAO,YAAaA,GAASA,IACvHxB,EAAIG,YAAY,oCAAqCF,GAAQ,EAAIzC,EAAYwB,SAAS,sBAAuB,0BAA2B,6BAMpIvB,EANmKyC,EAAQ,CAC7KZ,cAAeL,EAAOqB,QAAQ,kBAC9BC,kBAAmB,CAAC,+BACpBC,SAAU,SAAkBiB,EAAcC,GACxC,OAAOhB,KAAKjB,IAAI,iBAAiBkB,aAAac,GAAgBC,KAE7B,WAAY,CAACzB,GAAQjC,OAAO6C,yBAAyBX,EAAO,YAAaA,GAASA,KAGzHF,EAAIG,YAAY,kCAAmC,CACjDwB,iBAAkB,WAChB,IAAIC,EAAQlB,KAEZA,KAAKM,SAELN,KAAKmB,UAAUC,GAAG,qBAAsB,SAAUC,GAChDA,EAAe7D,QAAQ,SAAU0C,GACjBgB,EAAMnC,IAAI,SAASuC,MAAMpD,MAAMoD,MAAMC,OAAO,SAAUC,GAElE,OADcA,EAAKjB,UACAL,IAClBuB,IAAI,SAAUC,GACf,OAAOA,EAAKxB,KAGN1C,QAAQ,SAAUmE,GACxBT,EAAMU,UAAUC,SAAS,QAAQzC,OAAOuC,IAExCT,EAAMU,UAAUC,SAAS,QAAQzC,OAAOuC,EAAQ,YAAYvC,OAAOc,GAAK,CACtE4B,UAAW,qBAKjBZ,EAAMa,mBAGVC,mBAAoB,WAClBhC,KAAKmB,UAAUc,IAAI,yBAGvB3C,EAAI4C,aAAa,cAAe,CAC9BC,SAAU,SAAkBC,GAC1B,MAAO,QAAQhD,OAAOgD,EAAMlC,GAAI,YAAYd,OAAOgD,EAAM7B,UAE3D8B,aAAc,SAAsBD,GAClC,MAAO,CACLE,OAAQ1D,EAAcqB,aAAamC,EAAM7B,WAG7CgC,aAAc,WACZvC,KAAKwC,MAAMF,OAAS1D,EAAcqB,aAAaD,KAAKoC,MAAM7B,UAE5DkC,aAAc,SAAsBL,EAAOI,GACzC,OAAIA,EAAMF,OACD,cAGF,aAQnB3F,OAAO,4EAA6E,CAAC,UAAW,QAAS,qBAAsB,wBAAyB,yBAA0B,SAAUC,EAAU8F,EAAQC,EAAOC,EAAOC,gBAQ1N,SAASC,EAAmBC,GAAO,OAQnC,SAA4BA,GAAO,GAAIC,MAAMC,QAAQF,GAAM,OAAOG,EAAkBH,GAR1CI,CAAmBJ,IAM7D,SAA0BK,GAAQ,GAAsB,oBAAXC,QAA0BA,OAAOC,YAAYhG,OAAO8F,GAAO,OAAOJ,MAAMO,KAAKH,GANrDI,CAAiBT,IAItF,SAAqCU,EAAGC,GAAU,GAAKD,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAOP,EAAkBO,EAAGC,GAAS,IAAIC,EAAIrG,OAAOsG,UAAUC,SAAS1F,KAAKsF,GAAG3F,MAAM,GAAI,GAAiE,MAAU,SAAlC6F,EAA3B,WAANA,GAAkBF,EAAEK,YAAiBL,EAAEK,YAAYrF,KAAUkF,IAAqB,QAANA,EAAoBX,MAAMO,KAAKE,GAAc,cAANE,GAAqB,2CAA2CI,KAAKJ,GAAWT,EAAkBO,EAAGC,QAAzG,GAJ/MM,CAA4BjB,IAE1H,WAAgC,MAAM,IAAIkB,UAAU,wIAF8EC,GAUlI,SAAShB,EAAkBH,EAAKoB,IAAkB,MAAPA,GAAeA,EAAMpB,EAAIqB,UAAQD,EAAMpB,EAAIqB,QAAQ,IAAK,IAAIC,EAAI,EAAGC,EAAO,IAAItB,MAAMmB,GAAME,EAAIF,EAAKE,IAAOC,EAAKD,GAAKtB,EAAIsB,GAAM,OAAOC,EAfhLhH,OAAOe,eAAezB,EAAU,aAAc,CAC5CsB,OAAO,IAETtB,EAAS0B,aAAU,EAcfiG,EAAW7B,EAAOpE,QAAQkG,QAAQC,OAAO,CAC3CC,MAAO,cACPC,WAAYC,OAAOC,WACnBC,MAAO,GACP3D,UAAW4D,UAAUC,cAAcnG,OAAO,sBAC1CC,aAAciG,UAAUC,cAAcnG,OAAO,sBAC7CoG,eAAgB,KAChBhF,aAAc,SAAsBM,GAOlC,YAAcnC,IAFF4B,KAAKjB,IAAI,SAASmG,KAJd,SAAmBC,GACjC,OAAOA,EAAQjF,KAAOF,MAGsBO,IAQhD6E,iBAAkB,WAChB,IAAIxG,EAAgBoB,KACpB,OAAO,SAAUqF,EAAMC,EAAWC,GAChC,IAAIC,EAAe5G,EAAcG,IAAI,SAGrC,GAAIwG,IAFkB3G,EAAcG,IAAI,kBAEH,EAuBnC,OArBAH,EAAc+F,WAAWc,YAAY,eAAgBzF,KAAK0F,WAE1D,EAAI/C,EAAMgD,MAAM,uBAAwB,CACtCC,OAAQ,QACPC,KAAK,SAAUC,GAChB,IAAIC,EAAaP,EAAa/D,IAAI,SAAU1B,GAC1C,OAAOA,EAAKhB,IAAI,QAElBH,EAAcoH,IAAI,QAASF,EAAc,MAAErE,IAAI,SAAU1B,GACvD,OAAO6C,EAAMtE,QAAQ2H,OAAOlG,MAE9B,IAAImG,EAAatH,EAAcG,IAAI,SAAS0C,IAAI,SAAU1B,GACxD,OAAOA,EAAKhB,IAAI,QAElBH,EAAcoH,IAAI,iBAAkBF,EAAsB,eAC1DlH,EAAc+F,WAAWwB,UAAU,eAAgBvH,EAAcwG,mBAAoBU,EAAsB,eACvGM,EAAe,GAAGhH,OAAO0D,EAAmBiD,GAAajD,EAAmBoD,IAChFtH,EAAcuC,UAAUkF,QAAQ,qBAAsBD,IACrD,SAAUE,GACXC,QAAQC,IAAIF,KAOhB,OAFA1H,EAAcoH,IAAI,iBAAkBT,GAE5BF,EAAmB,cACzB,IAAK,eACH,IAAItF,EAAO6C,EAAMtE,QAAQ2H,OAAOZ,EAAW,MAE3CG,EAAaiB,WAAW1G,GACxBnB,EAAcuC,UAAUkF,QAAQ,qBAAsB,CAACtG,EAAKhB,IAAI,QAChE,MAEF,IAAK,gBACH,IAAI2H,EAAY,SAAmBvB,GACjC,OAAOA,EAAQpG,IAAI,QAAUiB,MAG/BqF,EAAY,MAAE7H,QAAQ,SAAU+C,GAC1BoG,EAAQnB,EAAaN,KAAKwB,EAAWnG,QAE3BnC,IAAVuI,GACFnB,EAAaoB,aAAaD,KAG9B/H,EAAcuC,UAAUkF,QAAQ,qBAAsBhB,EAAY,OAClE,MAEF,QACEkB,QAAQM,MAAM,gDAMtBC,KAAM,WACJ,IAAIC,EAAelE,EAAMvE,QAAQ0I,YAAY,gBAEzCD,IACF/G,KAAKgG,IAAI,QAASe,EAAoB,MAAEtF,IAAI,SAAU1B,GACpD,OAAO6C,EAAMtE,QAAQ2H,OAAOlG,MAE9BC,KAAKgG,IAAI,iBAAkBe,EAA4B,eACvD/G,KAAKmB,UAAUkF,QAAQ,qBAAsBU,EAAoB,MAAEtF,IAAI,SAAUD,GAE/E,OADSA,EAAKtB,MAGhBF,KAAK2E,WAAWwB,UAAU,eAAgBnG,KAAKoF,mBAAoB2B,EAA4B,gBAGjG/G,KAAKM,OAAO2G,MAAMjH,KAAMkH,YAE1BC,cAAe,WAEb,IAAKnH,KAAKlB,aAAasI,oBACrB,OAAO,EAIT,GAAIpH,KAAKlB,aAAauI,2BACpB,OAAO,EAIT,IAAIC,EAAcvC,UAAUwC,KAAKC,UAEjC,OAAoB,OAAhBF,GAGKA,EAAYG,aAAezH,KAAKlB,aAAa4I,qCAEtDzK,aAGJL,EAAS0B,QAAUiG,IAErB5H,OAAO,kFAAmF,CAAC,UAAW,SAAU,SAAUC,EAAU8F,gBAGlIpF,OAAOe,eAAezB,EAAU,aAAc,CAC5CsB,OAAO,IAETtB,EAAS0B,aAAU,EAEfiG,EAAW7B,EAAOpE,QAAQqJ,UAAUlD,OAAO,CAC7CmD,QAAS,IACTC,kBAAmB,CAAC,+BAAgC,oBAGtDjL,EAAS0B,QAAUiG,IAErB5H,OAAO,2EAA4E,CAAC,UAAW,SAAU,SAAUC,EAAU8F,gBAG3HpF,OAAOe,eAAezB,EAAU,aAAc,CAC5CsB,OAAO,IAETtB,EAAS0B,aAAU,EACnB,IAAIC,EAASmE,EAAOpE,QAAQC,OAExBgG,EAAW7B,EAAOpE,QAAQqJ,UAAUlD,OAAO,CAC7CqD,eAAgB,WAEd,QAAI9H,KAAKjB,IAAI,UAAU+F,MAAMV,OAASpE,KAAKlB,aAAaiJ,6BAA+B/H,KAAKlB,aAAakJ,yCAIlGhI,KAAKjB,IAAI,UAAUA,IAAI,kBAC9B9B,WACFqF,OAAQ/D,EAAOqB,QAAQ,kBACvBkF,MAAO,WACL,OAAO9E,KAAKjB,IAAI,UAAU+F,MAAMhH,MAAM,EAAGkC,KAAKlB,aAAamJ,8BAC3DhL,SAAS,sBACXiL,OAAQ,WACN,OAAOlI,KAAKjB,IAAI,UAAU+F,MAAMV,QAAUpE,KAAKlB,aAAaqJ,gCAC5DlL,SAAS,uBACXmL,QAAS,WACP,OAAOpI,KAAKjB,IAAI,UAAU+F,MAAMV,QAAUpE,KAAKlB,aAAaiJ,6BAC5D9K,SAAS,yBAGbL,EAAS0B,QAAUiG,IAErB/F,MAAM6J,UAAU,2EAA6E7J,MAAM8J,SAASC,SAAS,CAACrI,GAAK,KAAKsI,MAAQ,uFAAiGC,KAAO,CAACC,WAAa,iGAC9PlK,MAAM6J,UAAU,sCAAwC7J,MAAM8J,SAASC,SAAS,CAACrI,GAAK,KAAKsI,MAAQ,g5BAAggCC,KAAO,CAACC,WAAa,4DACxnClK,MAAM6J,UAAU,6CAA+C7J,MAAM8J,SAASC,SAAS,CAACrI,GAAK,KAAKsI,MAAQ,oMAA8NC,KAAO,CAACC,WAAa"}