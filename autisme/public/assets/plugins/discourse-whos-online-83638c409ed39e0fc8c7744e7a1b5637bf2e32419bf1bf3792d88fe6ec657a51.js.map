{"version":3,"sourceRoot":"/assets/plugins","sources":["_discourse-whos-online-83638c409ed39e0fc8c7744e7a1b5637bf2e32419bf1bf3792d88fe6ec657a51.js"],"names":["define","_exports","_pluginApi","_decorators","_applyDecoratedDescriptor","target","property","decorators","descriptor","context","desc","Object","keys","forEach","key","enumerable","configurable","initializer","writable","slice","reverse","reduce","decorator","value","call","undefined","defineProperty","default","inject","Ember","_default","name","initialize","container","onlineService","lookup","siteSettings","get","indicatorType","whos_online_avatar_indicator","$","addClass","concat","withPluginApi","api","_dec3","_obj3","modifyClass","_dec","_obj","service","classNameBindings","isOnline","user","this","isUserOnline","id","getOwnPropertyDescriptor","afterModel","updateBodyClass","_super","user_id","modelFor","removeClass","observes","deactivate","whos_online_avatar_indicator_topic_lists","_dec2","_obj2","lastPosterId","lastPosterUserId","didInsertElement","_this","appEvents","on","changedUserIds","posts","filter","_ref","map","post","postId","dirtyKeys","keyDirty","onRefresh","queueRerender","willDestroyElement","off","reopenWidget","buildKey","attrs","defaultState","online","updateOnline","state","buildClasses","_ember","_ajax","_user","_site","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","prototype","toString","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","length","i","arr2","Service","extend","after","messageBus","window","MessageBus","users","Discourse","__container__","_lastMessageId","find","element","messageProcessor","data","global_id","message_id","currentUsers","unsubscribe","func","ajax","method","then","result","oldUserIds","set","create","newUserIds","subscribe","changedUsers","trigger","msg","console","log","pushObject","matchById","found","removeObject","error","init","startingData","currentProp","apply","arguments","shouldDisplay","whos_online_enabled","whos_online_display_public","currentUser","User","current","trust_level","whos_online_display_min_trust_level","Component","tagName","attributeBindings","showWhosOnline","whos_online_minimum_display","whos_online_hide_below_minimum_display","whos_online_maximum_display","isLong","whos_online_collapse_threshold","isUsers","TEMPLATES","HTMLBars","template","block","meta","moduleName"],"mappings":"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"}