/*!
 * Masonry PACKAGED v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(n){return e(t,n)})):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,(function(t,e){"use strict";function n(n,o,a){function l(t,e,i){var s,o="$()."+n+'("'+e+'")';return t.each((function(t,l){var c=a.data(l,n);if(c){var u=c[e];if(u&&"_"!=e.charAt(0)){var p=u.apply(c,i);s=void 0===s?p:s}else r(o+" is not a valid method")}else r(n+" not initialized. Cannot call methods, i.e. "+o)})),void 0!==s?s:t}function c(t,e){t.each((function(t,i){var s=a.data(i,n);s?(s.option(e),s._init()):(s=new o(i,e),a.data(i,n,s))}))}(a=a||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){if("string"==typeof t){var e=s.call(arguments,1);return l(this,t,e)}return c(this,t),this},i(a))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var s=Array.prototype.slice,o=t.console,r=void 0===o?function(){}:function(t){o.error(t)};return i(e||t.jQuery),n})),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,(function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],s=0;s<n.length;s++){var o=n[s];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,(function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(t){var e=getComputedStyle(t);return e||o("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function n(){if(!l){l=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var o=document.body||document.documentElement;o.appendChild(n);var r=e(n);s=200==Math.round(t(r.width)),i.isBoxSizeOuter=s,o.removeChild(n)}}function i(i){if(n(),"string"==typeof i&&(i=document.querySelector(i)),i&&"object"==typeof i&&i.nodeType){var o=e(i);if("none"==o.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;a>e;e++)t[r[e]]=0;return t}();var l={};l.width=i.offsetWidth,l.height=i.offsetHeight;for(var c=l.isBorderBox="border-box"==o.boxSizing,u=0;a>u;u++){var p=r[u],h=o[p],d=parseFloat(h);l[p]=isNaN(d)?0:d}var m=l.paddingLeft+l.paddingRight,f=l.paddingTop+l.paddingBottom,g=l.marginLeft+l.marginRight,y=l.marginTop+l.marginBottom,v=l.borderLeftWidth+l.borderRightWidth,x=l.borderTopWidth+l.borderBottomWidth,b=c&&s,_=t(o.width);!1!==_&&(l.width=_+(b?0:m+v));var E=t(o.height);return!1!==E&&(l.height=E+(b?0:f+x)),l.innerWidth=l.width-(m+v),l.innerHeight=l.height-(f+x),l.outerWidth=l.width+g,l.outerHeight=l.height+y,l}}var s,o="undefined"==typeof console?function(){}:function(t){console.error(t)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=r.length,l=!1;return i})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(e,n){return e[t](n)}})),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(n){return e(t,n)})):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,(function(t,e){var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},i=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?i.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var s=[];return t.forEach((function(t){if(t instanceof HTMLElement){if(!i)return void s.push(t);e(t,i)&&s.push(t);for(var n=t.querySelectorAll(i),o=0;o<n.length;o++)s.push(n[o])}})),s},n.debounceMethod=function(t,e,n){n=n||100;var i=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];clearTimeout(t);var e=arguments,o=this;this[s]=setTimeout((function(){i.apply(o,e),delete o[s]}),n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,n){return e+"-"+n})).toLowerCase()};var s=t.console;return n.htmlInit=function(e,i){n.docReady((function(){var o=n.toDashed(i),r="data-"+o,a=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+o),c=n.makeArray(a).concat(n.makeArray(l)),u=r+"-options",p=t.jQuery;c.forEach((function(t){var n,o=t.getAttribute(r)||t.getAttribute(u);try{n=o&&JSON.parse(o)}catch(e){return void(s&&s.error("Error parsing "+r+" on "+t.className+": "+e))}var a=new e(t,n);p&&p.data(t,i,a)}))}))},n})),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,(function(t,e){"use strict";function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var i=document.documentElement.style,s="string"==typeof i.transition?"transition":"WebkitTransition",o="string"==typeof i.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],a={transform:o,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},l=n.prototype=Object.create(t.prototype);l.constructor=n,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var n in t){e[a[n]||n]=t[n]}},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],s=t[n?"top":"bottom"],o=parseFloat(i),r=parseFloat(s),a=this.layout.size;-1!=i.indexOf("%")&&(o=o/100*a.width),-1!=s.indexOf("%")&&(r=r/100*a.height),o=isNaN(o)?0:o,r=isNaN(r)?0:r,o-=e?a.paddingLeft:a.paddingRight,r-=n?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=r},l.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),s=n?"paddingLeft":"paddingRight",o=n?"left":"right",r=n?"right":"left",a=this.position.x+t[s];e[o]=this.getXValue(a),e[r]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",u=i?"bottom":"top",p=this.position.y+t[l];e[c]=this.getYValue(p),e[u]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,s=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var o=t-n,r=e-i,a={};a.transform=this.getTranslate(o,r),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var c="opacity,"+function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}(o);l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:c,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=u[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd)e.onEnd[n].call(this),delete e.onEnd[n];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var p={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(p)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),void this.hide()):void this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(n,i,s,o){return e(t,n,i,s,o)})):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,(function(t,e,n,i,s){"use strict";function o(t,e){var n=i.getQueryElement(t);if(n){this.element=n,l&&(this.$element=l(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var s=++u;this.element.outlayerGUID=s,p[s]=this,this._create(),this._getOption("initLayout")&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||t))}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}var a=t.console,l=t.jQuery,c=function(){},u=0,p={};o.namespace="outlayer",o.Item=s,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=o.prototype;i.extend(h,e.prototype),h.option=function(t){i.extend(this.options,t)},h._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],s=0;s<e.length;s++){var o=new n(e[s],this);i.push(o)}return i},h._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},h.getItemElements=function(){return this.items.map((function(t){return t.element}))},h.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=n(this.element)},h._getMeasurement=function(t,e){var i,s=this.options[t];s?("string"==typeof s?i=this.element.querySelector(s):s instanceof HTMLElement&&(i=s),this[t]=i?n(i)[e]:s):this[t]=0},h.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},h._getItemsForLayout=function(t){return t.filter((function(t){return!t.isIgnored}))},h._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach((function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)}),this),this._processLayoutQueue(n)}},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(t){this.updateStagger(),t.forEach((function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)}),this)},h.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];return n.length?(n=parseFloat(n))*(d[i]||1):0}(t),this.stagger)},h._positionItem=function(t,e,n,i,s){i?t.goTo(e,n):(t.stagger(s*this.stagger),t.moveTo(e,n))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},h._getContainerSize=c,h._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},h._emitCompleteOnItems=function(t,e){function n(){s.dispatchEvent(t+"Complete",null,[e])}function i(){++r==o&&n()}var s=this,o=e.length;if(e&&o){var r=0;e.forEach((function(e){e.once(t,i)}))}else n()},h.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),l)if(this.$element=this.$element||l(this.element),e){var s=l.Event(e);s.type=t,this.$element.trigger(s,n)}else this.$element.trigger(t,n)},h.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},h.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},h.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},h.unstamp=function(t){(t=this._find(t))&&t.forEach((function(t){i.removeFrom(this.stamps,t),this.unignore(t)}),this)},h._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)):void 0},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},h._manageStamp=c,h._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,s=n(t);return{left:e.left-i.left-s.marginLeft,top:e.top-i.top-s.marginTop,right:i.right-e.right-s.marginRight,bottom:i.bottom-e.bottom-s.marginBottom}},h.handleEvent=i.handleEvent,h.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},i.debounceMethod(o,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},h.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},h.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},h.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},h.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.reveal()}))}},h.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.hide()}))}},h.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},h.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},h.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},h.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach((function(t){var n=this.getItem(t);n&&e.push(n)}),this),e},h.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach((function(t){t.remove(),i.removeFrom(this.items,t)}),this)},h.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach((function(t){t.destroy()})),this.unbindResize();var e=this.element.outlayerGUID;delete p[e],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},o.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&p[e]},o.create=function(t,e){var n=r(o);return n.defaults=i.extend({},o.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},o.compatOptions),n.namespace=t,n.data=o.data,n.Item=r(s),i.htmlInit(n,t),l&&l.bridget&&l.bridget(t,n),n};var d={ms:1,s:1e3};return o.Item=s,o})),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,(function(t,e){var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,s=this.containerWidth+this.gutter,o=s/i,r=i-s%i;o=Math[r&&1>r?"round":"floor"](o),this.cols=Math.max(o,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),s={x:this.columnWidth*i.col,y:i.y},o=i.y+t.size.outerHeight,r=n+i.col,a=i.col;r>a;a++)this.colYs[a]=o;return s},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},i._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++)e[i]=this._getColGroupY(i,t);return e},i._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=t>1&&n+t>this.cols?0:n;var i=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=i?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},i._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),s=this._getOption("originLeft")?i.left:i.right,o=s+n.outerWidth,r=Math.floor(s/this.columnWidth);r=Math.max(0,r);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,c=r;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n})),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,(function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],s=0;s<n.length;s++){var o=n[s];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],(function(n){return e(t,n)})):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,(function(t,e){function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e,s){if(!(this instanceof i))return new i(t,e,s);var o=t;return"string"==typeof t&&(o=document.querySelectorAll(t)),o?(this.elements=function(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?l.call(t):[t]}(o),this.options=n({},this.options),"function"==typeof e?s=e:n(this.options,e),s&&this.on("always",s),this.getImages(),r&&(this.jqDeferred=new r.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(o||t))}function s(t){this.img=t}function o(t,e){this.url=t,this.element=e,this.img=new Image}var r=t.jQuery,a=t.console,l=Array.prototype.slice;i.prototype=Object.create(e.prototype),i.prototype.options={},i.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},i.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var s=n[i];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var r=o[i];this.addElementBackgroundImages(r)}}}};var c={1:!0,9:!0,11:!0};return i.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var s=i&&i[2];s&&this.addBackground(s,t),i=n.exec(e.backgroundImage)}},i.prototype.addImage=function(t){var e=new s(t);this.images.push(e)},i.prototype.addBackground=function(t,e){var n=new o(t,e);this.images.push(n)},i.prototype.check=function(){function t(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach((function(e){e.once("progress",t),e.check()})):void this.complete()},i.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,t,e)},i.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},s.prototype=Object.create(e.prototype),s.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},s.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype=Object.create(s.prototype),o.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},o.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},i.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(t,e){return new i(this,t,e).jqDeferred.promise(r(this))})},i.makeJQueryPlugin(),i})),define("discourse/plugins/discourse-topic-list-previews/discourse/components/select-thumbnail",["exports","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/show-modal","discourse-common/utils/decorators"],(function(t,e,n,i,s){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,l,c,u,p,h=Ember.Component.extend((r=o={classNames:"select-thumbnail",showSelected:function(){return!!this.get("buffered.user_chosen_thumbnail_url")},actions:{showThumbnailSelector:function(){var t=this;(0,e.ajax)("/topic-previews/thumbnail-selection.json?topic=".concat(this.get("topic_id"))).then((function(e){(0,i.default)("tlp-thumbnail-selector",{model:{thumbnails:e,topic_id:t.get("topic_id"),topic_title:t.get("topic_title"),buffered:t.get("buffered")}})})).catch((function(t){(0,n.popupAjaxError)(t)}))}}},a="showSelected",l=[s.default],c=Object.getOwnPropertyDescriptor(o,"showSelected"),u=o,p={},Object.keys(c).forEach((function(t){p[t]=c[t]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=l.slice().reverse().reduce((function(t,e){return e(r,a,t)||t}),p),u&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(u):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(r,a,p),p=null),o));t.default=h})),define("discourse/plugins/discourse-topic-list-previews/discourse/components/tlp-featured-topic",["exports","discourse/lib/url","discourse-common/utils/decorators","../lib/utilities"],(function(t,e,n,i){"use strict";var s,o,r;function a(t,e,n,i,s){var o={};return Object.keys(i).forEach((function(t){o[t]=i[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),o),s&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(s):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=Ember.Component.extend((s=(0,n.default)("topic.tags"),o=(0,n.default)("topic.id"),a(r={tagName:"a",attributeBindings:["href"],classNameBindings:[":tlp-featured-topic","showDetails","featuredTag"],didInsertElement:function(){var t=this,e=this.get("topic");if(e){var n=(0,i.getDefaultThumbnail)();(0,i.testImageUrl)(e.thumbnails,(function(e){e||Ember.run.scheduleOnce("afterRender",t,(function(){n?t.$("img.thumbnail")&&t.$("img.thumbnail").attr("src",n):t.$().hide()}))}))}},featuredTags:function(){return this.siteSettings.topic_list_featured_images_tag.split("|")},featuredTag:function(t){var e=this;return t.filter((function(t){return e.get("featuredTags").indexOf(t)>-1}))[0]},mouseEnter:function(){this.set("showDetails",!0)},mouseLeave:function(){this.set("showDetails",!1)},href:function(t){return"/t/".concat(t)},click:function(t){t.preventDefault(),e.default.routeTo(this.get("href"))}},"featuredTags",[n.default],Object.getOwnPropertyDescriptor(r,"featuredTags"),r),a(r,"featuredTag",[s],Object.getOwnPropertyDescriptor(r,"featuredTag"),r),a(r,"href",[o],Object.getOwnPropertyDescriptor(r,"href"),r),r));t.default=l})),define("discourse/plugins/discourse-topic-list-previews/discourse/components/tlp-featured-topics",["exports","discourse-common/utils/decorators","discourse/lib/text"],(function(t,e,n){"use strict";var i,s,o,r;function a(t,e,n,i,s){var o={};return Object.keys(i).forEach((function(t){o[t]=i[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),o),s&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(s):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=Ember.Component.extend((i=(0,e.on)("init"),s=(0,e.observes)("featuredTopics"),o=(0,e.on)("init"),a(r={classNameBindings:[":tlp-featured-topics","hasTopics"],hasTopics:Ember.computed.notEmpty("featuredTopics"),featuredTopics:null,setup:function(){this.appEvents.trigger("topic:refresh-timeline-position")},setupTitle:function(){var t=this;if(this.get("showFeaturedTitle")){var e=this.siteSettings.topic_list_featured_title;(0,n.cookAsync)(e).then((function(e){return t.set("featuredTitle",e)}))}},showFeaturedTitle:function(){return this.siteSettings.topic_list_featured_title},featuredTags:function(){return this.siteSettings.topic_list_featured_images_tag.split("|")},showFeaturedTags:function(){return this.get("featuredTags")&&this.siteSettings.topic_list_featured_images_tag_show}},"setup",[i,s],Object.getOwnPropertyDescriptor(r,"setup"),r),a(r,"setupTitle",[o],Object.getOwnPropertyDescriptor(r,"setupTitle"),r),a(r,"showFeaturedTitle",[e.default],Object.getOwnPropertyDescriptor(r,"showFeaturedTitle"),r),a(r,"featuredTags",[e.default],Object.getOwnPropertyDescriptor(r,"featuredTags"),r),a(r,"showFeaturedTags",[e.default],Object.getOwnPropertyDescriptor(r,"showFeaturedTags"),r),r));t.default=l})),Ember.TEMPLATES["javascripts/discourse/connectors/category-custom-settings/category-list-settings"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["siteSettings","topic_list_previews_enabled"]]],null,{"statements":[[7,"h3",true],[8],[1,[28,"i18n",["category.topic_list_previews_settings_heading"],null],false],[9],[0,"\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[7,"label",true],[8],[1,[28,"i18n",["category.topic_list_tiles"],null],false],[9],[0,"\\n    "],[1,[28,"list-setting",null,[["value","choices","settingName","onChange"],[[24,["tiles"]],[24,["filteredChoices"]],"category.custom_fields.topic_list_tiles",[28,"action",[[23,0,[]],"onChangeCategoryListSetting","tiles"],null]]]],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[7,"label",true],[8],[1,[28,"i18n",["category.topic_list_thumbnail"],null],false],[9],[0,"\\n    "],[1,[28,"list-setting",null,[["value","choices","settingName","onChange"],[[24,["thumbnail"]],[24,["choices"]],"category.topic_list_thumbnail",[28,"action",[[23,0,[]],"onChangeCategoryListSetting","thumbnail"],null]]]],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[7,"label",true],[8],[1,[28,"i18n",["category.topic_list_excerpt"],null],false],[9],[0,"\\n    "],[1,[28,"list-setting",null,[["value","choices","settingName","onChange"],[[24,["excerpt"]],[24,["choices"]],"category.topic_list_excerpt",[28,"action",[[23,0,[]],"onChangeCategoryListSetting","excerpt"],null]]]],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[7,"label",true],[8],[1,[28,"i18n",["category.topic_list_action"],null],false],[9],[0,"\\n    "],[1,[28,"list-setting",null,[["value","choices","settingName","onChange"],[[24,["action"]],[24,["choices"]],"category.topic_list_action",[28,"action",[[23,0,[]],"onChangeCategoryListSetting","action"],null]]]],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[7,"label",true],[8],[1,[28,"i18n",["category.topic_list_default_thumbnail"],null],false],[9],[0,"\\n    "],[1,[28,"text-field",null,[["value","placeholderKey"],[[24,["category","custom_fields","topic_list_default_thumbnail"]],"category.topic_list_default_thumbnail_placeholder"]]],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[7,"label",true],[8],[1,[28,"i18n",["category.topic_list_thumbnail_width"],null],false],[9],[0,"\\n    "],[1,[28,"input",null,[["type","class","value","placeholderKey"],["integer","input-small",[24,["category","custom_fields","topic_list_thumbnail_width"]],"category.topic_list_thumbnail_width_placeholder"]]],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[7,"label",true],[8],[1,[28,"i18n",["category.topic_list_thumbnail_height"],null],false],[9],[0,"\\n    "],[1,[28,"input",null,[["type","class","value","placeholderKey"],["integer","input-small",[24,["category","custom_fields","topic_list_thumbnail_height"]],"category.topic_list_thumbnail_height_placeholder"]]],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[1,[28,"input",null,[["type","checked"],["checkbox",[24,["category","custom_fields","topic_list_featured_images"]]]]],false],[0,"\\n    "],[7,"span",true],[8],[1,[28,"i18n",["category.topic_list_featured_images"],null],false],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/category-custom-settings/category-list-settings"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/connectors/category-custom-settings/category-list-settings",["exports"],(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=["latest","new","unread","top","suggested","agenda","latest-mobile","new-mobile","unread-mobile","top-mobile","agenda-mobile"],n=["suggested"],i=["tiles","thumbnail","excerpt","action"],s={setupComponent:function(t,s){var o=this;s.set("tokenSeparator","|");var r=t.category;r.custom_fields||(r.custom_fields={}),i.forEach((function(t){"string"!=typeof r.custom_fields["topic_list_".concat(t)]&&(r.custom_fields["topic_list_".concat(t)]=""),s.set(t,r.custom_fields["topic_list_".concat(t)].toString().split(o.tokenSeparator))})),s.set("choices",e);var a=e.filter((function(t){return-1===n.indexOf(t)}));s.set("filteredChoices",a)},actions:{onChangeCategoryListSetting:function(t,e){this.set(t,e),this.set("category.custom_fields.topic_list_".concat(t),e.join(this.tokenSeparator))}}};t.default=s})),Ember.TEMPLATES["javascripts/discourse/connectors/discovery-list-container-top/featured-topics-discovery"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["featuredTopics"]]],null,{"statements":[[0,"  "],[1,[28,"tlp-featured-topics",null,[["featuredTopics"],[[24,["featuredTopics"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/discovery-list-container-top/featured-topics-discovery"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/connectors/discovery-list-container-top/featured-topics-discovery",["exports","discourse-common/lib/get-owner"],(function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={setupComponent:function(t,n){var i=this,s=(0,e.getOwner)(this).lookup("controller:discovery");n.set("featuredTopics",s.get("featuredTopics")),s.addObserver("featuredTopics",(function(){if("destroying"!==i._state){var t=s.get("featuredTopics");n.set("featuredTopics",t)}}))}};t.default=n})),Ember.TEMPLATES["javascripts/discourse/connectors/edit-topic/select-thumbnail-connector"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"select-thumbnail",null,[["topic_id","topic_title","buffered"],[[24,["model","id"]],[24,["model","title"]],[24,["buffered"]]]]],false]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/edit-topic/select-thumbnail-connector"}}),Ember.TEMPLATES["javascripts/discourse/connectors/topic-above-post-stream/featured-topics-topic"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"unless",[[24,["site","mobileView"]]],null,{"statements":[[4,"if",[[24,["model","featured_topics"]]],null,{"statements":[[0,"    "],[1,[28,"tlp-featured-topics",null,[["featuredTopics"],[[24,["model","featured_topics"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/topic-above-post-stream/featured-topics-topic"}}),Ember.TEMPLATES["javascripts/discourse/connectors/user-activity-bottom/portfolio-list"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["portfolioEnabled"]]],null,{"statements":[[4,"link-to",null,[["route"],["userActivity.portfolio"]],{"statements":[[0,"    "],[1,[28,"d-icon",["images"],null],false],[0," "],[1,[28,"i18n",["user_activity_portfolio.title"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/user-activity-bottom/portfolio-list"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/connectors/user-activity-bottom/portfolio-list",["exports"],(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={setupComponent:function(t,e){e.set("portfolioEnabled",e.siteSettings.topic_list_portfolio)}}})),Ember.TEMPLATES["javascripts/discourse/connectors/user-card-additional-controls/portfolio-button"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["portfolioEnabled"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","portfolio-button-inner"],[8],[0,"\\n"],[4,"link-to",null,[["route","model"],["userActivity.portfolio",[24,["user"]]]],{"statements":[[0,"        "],[7,"svg",true],[10,"class","fa d-icon d-icon-images svg-icon svg-string"],[10,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[8],[7,"use",true],[10,"xlink:href","#images","http://www.w3.org/1999/xlink"],[8],[9],[9],[0,"\\n        "],[7,"label",true],[8],[1,[28,"i18n",["user_activity_portfolio.title"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"    "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/user-card-additional-controls/portfolio-button"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/connectors/user-card-additional-controls/portfolio-button",["exports"],(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={setupComponent:function(t,e){e.set("portfolioEnabled",e.siteSettings.topic_list_portfolio)}}})),Ember.TEMPLATES["javascripts/discourse/connectors/user-custom-preferences/tlp-user-preferences"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["siteSettings","topic_list_previews_enabled"]]],null,{"statements":[[0,"  "],[1,[28,"tlp-user-preferences",null,[["model"],[[24,["model"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/user-custom-preferences/tlp-user-preferences"}}),define("discourse/plugins/discourse-topic-list-previews/discourse/controllers/tlp-thumbnail-selector",["exports","ember-addons/ember-computed-decorators","discourse/mixins/modal-functionality","discourse/mixins/buffered-content"],(function(t,e,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=Ember.Controller.extend(n.default,(0,i.bufferedProperty)("model"),{thumbnailList:Ember.computed.oneWay("model.thumbnails"),modal_topic_title:Ember.computed.oneWay("model.topic_title"),buffered:Ember.computed.alias("model.buffered"),modal_title:"thumbnail_selector.title",actions:{selectThumbnail:function(t,e){this.get("buffered");this.set("buffered.user_chosen_thumbnail_url",t),this.set("buffered.image_upload_id",e),this.send("closeModal")}}});t.default=s})),define("discourse/plugins/discourse-topic-list-previews/discourse/helpers/featured-images-enabled",["exports","../lib/utilities"],(function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Ember.Helper.helper((function(t){return(0,e.featuredImagesEnabled)(t[0],t[1])}));t.default=n})),define("discourse/plugins/discourse-topic-list-previews/discourse/helpers/preview-helpers",["discourse-common/lib/helpers","../lib/utilities"],(function(t,e){"use strict";(0,t.registerUnbound)("preview-unbound",(function(t,n){return new Handlebars.SafeString((0,e.renderUnboundPreview)(t,n))})),(0,t.registerUnbound)("list-button",(function(t,n){return new Handlebars.SafeString((0,e.buttonHTML)(t,n))}))})),define("discourse/plugins/discourse-topic-list-previews/discourse/initializers/preview-edits",["exports","discourse-common/utils/decorators","@ember/object/computed","discourse/lib/url","../lib/utilities","../lib/actions","discourse/lib/plugin-api","discourse/raw-views/list/posts-count-column","../mixins/settings","discourse/models/topic","discourse/lib/text","@ember/service"],(function(t,e,n,i,s,o,r,a,l,c,u,p){"use strict";function h(t,e,n,i,s){var o={};return Object.keys(i).forEach((function(t){o[t]=i[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),o),s&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(s):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d={name:"preview-edits",initialize:function(t){t.lookup("site-settings:main").topic_list_previews_enabled&&(0,r.withPluginApi)("0.8.12",(function(r){var c,d,m,f,g,y,v,x,b,_,E,w,P,C,k,T,O,S,j,L,z,M,D,I,A,B,R,N,W,H,F,q,V,U,Y,Q;r.modifyClass("component:load-more",{init:function(){this._super.apply(this,arguments),"paginated-topics-list"==this.class?this.set("eyelineSelector",".topic-list-item"):this.set("eyelineSelector",this.selector)}}),r.modifyClass("component:basic-topic-list",l.default),r.modifyClass("component:basic-topic-list",(c=(0,e.default)("listChanged"),h(d={router:(0,p.inject)("router"),classNameBindings:["showThumbnail","showExcerpt","showActions","tilesStyle"],currentRoute:(0,n.alias)("router.currentRouteName"),listChanged:!1,skipHeader:function(){this.get("tilesStyle")||this.get("site.mobileView")},tilesStyle:function(){this._settingEnabled("topic_list_tiles")}},"tilesStyle",[c],Object.getOwnPropertyDescriptor(d,"tilesStyle"),d),d)),r.modifyClass("component:topic-list",l.default),r.modifyClass("component:topic-list",(m=(0,e.on)("init"),f=(0,e.on)("didRender"),g=(0,e.on)("didInsertElement"),y=(0,e.observes)("currentRoute"),v=(0,e.on)("didInsertElement"),x=(0,e.observes)("tilesStyle"),b=(0,e.default)("listChanged"),_=(0,e.default)("routeShortName"),E=(0,e.default)("routeShortName"),w=(0,e.on)("willDestroyElement"),P=(0,e.default)("listChanged"),C=(0,e.default)("listChanged"),k=(0,e.default)("listChanged"),T=(0,e.default)("listChanged"),O=(0,e.default)("listChanged"),S=(0,e.default)("listChanged"),h(j={router:(0,p.inject)("router"),currentRoute:(0,n.alias)("router.currentRouteName"),classNameBindings:["showThumbnail","showExcerpt","showActions","tilesStyle"],listChanged:!1,setup:function(){if(this.get("suggestedList")){var t=this.get("parentView.parentView.parentView.topic.category");this.set("category",t)}this.siteSettings.topic_list_fade_in_time&&$("#list-area").fadeOut(0)},completeRender:function(){this.get("tilesStyle")&&!this.site.mobileView&&Ember.run.scheduleOnce("afterRender",this,this.applyMasonry),this.siteSettings.topic_list_fade_in_time&&$("#list-area").fadeIn(this.siteSettings.topic_list_fade_in_time)},setupListChanged:function(){this.toggleProperty("listChanged")},setupListStyle:function(){this.$()&&this.get("tilesStyle")&&(this.$().parents("#list-area").toggleClass("tiles-style",!0),this.$("tbody").toggleClass("tiles-grid",!0),this.$(".tiles-grid-sizer").length||this.$(".tiles-grid").prepend("<div class='tiles-grid-sizer'></div><div class='tiles-gutter-sizer'></div>"))},routeShortName:function(){return this.get("router").currentRouteName.split(".")[0]},discoveryList:function(){return"discovery"==this.get("routeShortName")},suggestedList:function(){return"topic"==this.get("routeShortName")},_tearDown:function(){this.$().parents("#list-area").removeClass("tiles-style"),this.$("tbody").removeClass("tiles-grid")},tilesStyle:function(){return this._settingEnabled("topic_list_tiles")},showThumbnail:function(){return this._settingEnabled("topic_list_thumbnail")},showExcerpt:function(){return this._settingEnabled("topic_list_excerpt")},showActions:function(){return this._settingEnabled("topic_list_action")},skipHeader:function(){return this.get("tilesStyle")||this.get("site.mobileView")},thumbnailFirstXRows:function(){return this.siteSettings.topic_list_thumbnail_first_x_rows},applyMasonry:function(){var t=this.$(".tiles-grid").data("masonry");if(t){t.reloadItems();var e=t.options.transitionDuration;t.options.transitionDuration=0,$(".tiles-grid").imagesLoaded((function(){t.layout()})),t.options.transitionDuration=e}else{var n=this.get("site.mobileView")?0:this.siteSettings.topic_list_tiles_transition_time;this.$(".tiles-grid").masonry({itemSelector:".tiles-grid-item",transitionDuration:"".concat(n,"s"),percentPosition:!0,columnWidth:".tiles-grid-sizer",gutter:".tiles-gutter-sizer"}),t=this.$(".tiles-grid").data("masonry"),$(".tiles-grid").imagesLoaded((function(){t.layout()}))}}},"setup",[m],Object.getOwnPropertyDescriptor(j,"setup"),j),h(j,"completeRender",[f],Object.getOwnPropertyDescriptor(j,"completeRender"),j),h(j,"setupListChanged",[g,y],Object.getOwnPropertyDescriptor(j,"setupListChanged"),j),h(j,"setupListStyle",[v,x],Object.getOwnPropertyDescriptor(j,"setupListStyle"),j),h(j,"routeShortName",[b],Object.getOwnPropertyDescriptor(j,"routeShortName"),j),h(j,"discoveryList",[_],Object.getOwnPropertyDescriptor(j,"discoveryList"),j),h(j,"suggestedList",[E],Object.getOwnPropertyDescriptor(j,"suggestedList"),j),h(j,"_tearDown",[w],Object.getOwnPropertyDescriptor(j,"_tearDown"),j),h(j,"tilesStyle",[P],Object.getOwnPropertyDescriptor(j,"tilesStyle"),j),h(j,"showThumbnail",[C],Object.getOwnPropertyDescriptor(j,"showThumbnail"),j),h(j,"showExcerpt",[k],Object.getOwnPropertyDescriptor(j,"showExcerpt"),j),h(j,"showActions",[T],Object.getOwnPropertyDescriptor(j,"showActions"),j),h(j,"skipHeader",[O],Object.getOwnPropertyDescriptor(j,"skipHeader"),j),h(j,"thumbnailFirstXRows",[S],Object.getOwnPropertyDescriptor(j,"thumbnailFirstXRows"),j),j)),r.modifyClass("component:topic-list-item",(L=(0,e.on)("init"),z=(0,e.on)("didInsertElement"),M=(0,e.observes)("thumbnails"),D=(0,e.on)("willDestroyElement"),I=(0,e.default)(),A=(0,e.default)(),B=(0,e.default)("topic.thumbnails"),R=(0,e.default)("topic.category"),N=(0,e.default)("tilesStyle","thumbnailWidth","thumbnailHeight"),W=(0,e.default)("likeCount"),H=(0,e.default)("likeDifference"),F=(0,e.default)("hasLiked"),q=(0,e.default)("category","topic.isPinnedUncategorized"),h(V={canBookmark:Ember.computed.bool("currentUser"),rerenderTriggers:["bulkSelectEnabled","topic.pinned","likeDifference","topic.thumbnails"],tilesStyle:(0,n.alias)("parentView.tilesStyle"),notTilesStyle:(0,n.not)("parentView.tilesStyle"),showThumbnail:(0,n.and)("thumbnails","parentView.showThumbnail"),showExcerpt:(0,n.and)("topic.excerpt","parentView.showExcerpt"),showActions:(0,n.alias)("parentView.showActions"),thumbnailFirstXRows:(0,n.alias)("parentView.thumbnailFirstXRows"),category:(0,n.alias)("parentView.category"),currentRoute:(0,n.alias)("parentView.currentRoute"),_setupProperties:function(){var t=this,e=this.get("topic"),n=e.get("thumbnails"),i=this.get("defaultThumbnail");if(this.get("tilesStyle")){this.set("tagName","div"),this.classNames=["tiles-grid-item"],this.siteSettings.topic_list_tiles_larger_featured_tiles&&e.tags&&e.tags.filter((function(e){return t.get("featuredTags").indexOf(e)>-1}))[0]&&this.classNames.push("tiles-grid-item-width2");var o=e.excerpt;(0,u.cookAsync)(o).then((function(e){return t.set("excerpt",e)}))}n?(0,s.testImageUrl)(n,(function(e){e||Ember.run.scheduleOnce("afterRender",t,(function(){if(i){var e=t.$("img.thumbnail");e&&e.attr("src",i)}else{var n=t.$(".topic-thumbnail");n&&n.hide()}}))})):i&&this.siteSettings.topic_list_default_thumbnail_fallback&&this.set("thumbnails",[{url:i}]);var r=a.default.create({topic:e});r.siteSettings=this.siteSettings,this.set("likesHeat",r.get("likesHeat"))},_setupDOM:function(){this.get("topic").get("thumbnails")&&this.get("thumbnailFirstXRows")&&this.$().index()>this.get("thumbnailFirstXRows")&&this.set("showThumbnail",!1),this._afterRender()},_afterRender:function(){var t=this;Ember.run.scheduleOnce("afterRender",this,(function(){t._setupTitleCSS(),t.get("showExcerpt")&&!t.get("tilesStyle")&&t._setupExcerptClick(),t.get("showActions")&&t._setupActions()}))},featuredTags:function(){return this.siteSettings.topic_list_featured_images_tag.split("|")},_setupTitleCSS:function(){var t=this.$(".topic-title a.visited");t&&t.closest(".topic-details").addClass("visited")},_setupExcerptClick:function(){var t=this;this.$(".topic-excerpt").on("click.topic-excerpt",(function(){i.default.routeTo(t.get("topic.lastReadUrl"))}))},_sizeThumbnails:function(){this.$(".topic-thumbnail img").on("load",(function(){$(this).css({width:$(this)[0].naturalWidth})}))},_setupActions:function(){var e=this,n=this.get("topic.topic_post_id"),i=this.$(".topic-bookmark"),s=this.$(".topic-like");i.on("click.topic-bookmark",(function(){e.toggleBookmark(i)})),s.on("click.topic-like",(function(){e.get("currentUser")?e.toggleLike(s,n):t.lookup("controller:application").send("showLogin")}))},_tearDown:function(){this.$(".topic-excerpt").off("click.topic-excerpt"),this.$(".topic-bookmark").off("click.topic-bookmark"),this.$(".topic-like").off("click.topic-like")},expandPinned:function(){return!!this.get("showExcerpt")||this._super()},posterNames:function(){var t=this.get("topic.posters"),e="";return t.forEach((function(n,i){var s=n.user.name?n.user.name:n.user.username;e+='<a href="'+n.user.path+'" data-user-card="'+n.user.username+'" + class="'+n.extras+'">'+s+"</a>",i===t.length-2?e+="<span> & </span>":i!==t.length-1&&(e+="<span>, </span>")})),e},thumbnails:function(){return this.get("topic.thumbnails")},defaultThumbnail:function(t){return(0,s.getDefaultThumbnail)(t)},thumbnailOpts:function(t,e,n){var i={tilesStyle:t};return e&&(i.thumbnailWidth=e),n&&(i.thumbnailHeight=n),i},topicActions:function(t){var e=this,n=[];return(t||this.get("topic.topic_post_can_like")||!this.get("currentUser")||this.siteSettings.topic_list_show_like_on_current_users_posts)&&n.push(this._likeButton()),this.get("canBookmark")&&(n.push(this._bookmarkButton()),Ember.run.scheduleOnce("afterRender",this,(function(){var t=e.$(".topic-statuses .op-bookmark");t&&t.hide()}))),n},likeCount:function(t){return(null==t?this.get("topic.topic_post_like_count"):t)||0},hasLikedDisplay:function(){var t=this.get("hasLiked");return null==t?this.get("topic.topic_post_liked"):t},showCategoryBadge:function(t,e){return("undefined"!=typeof topic||!t||t.has_children)&&!e},changeLikeCount:function(t){var e=this.get("likeCount")+(t||0);this.set("hasLiked",Boolean(t>0)),this.set("likeDifference",e),this.renderTopicListItem(),this._afterRender()},_likeButton:function(){var t="topic-like",e=this.get("topic.topic_post_is_current_users");if(this.get("hasLikedDisplay")){t+=" has-like";var n=!this.get("topic.topic_post_can_unlike")&&null==this.get("likeDifference");e=!!e||n}return{class:t,title:"post.controls.like",icon:"heart",disabled:e}},_bookmarkButton:function(){var t="topic-bookmark",e="bookmarks.not_bookmarked";return this.get("topic.topic_post_bookmarked")&&(t+=" bookmarked",e="bookmarks.created"),{class:t,title:e,icon:"bookmark"}},toggleBookmark:function(t){(0,o.sendBookmark)(this.topic,!t.hasClass("bookmarked")),t.toggleClass("bookmarked")},toggleLike:function(t,e){var n=this;if(!this.get("hasLikedDisplay")){var i=[1,1.5];return new Ember.RSVP.Promise((function(r){(0,s.animateHeart)(t,i[0],i[1],(function(){(0,s.animateHeart)(t,i[1],i[0],(function(){(0,o.addLike)(e),n.changeLikeCount(1),r()}))}))}))}(0,o.removeLike)(e),this.changeLikeCount(-1)}},"_setupProperties",[L],Object.getOwnPropertyDescriptor(V,"_setupProperties"),V),h(V,"_setupDOM",[z],Object.getOwnPropertyDescriptor(V,"_setupDOM"),V),h(V,"_afterRender",[M],Object.getOwnPropertyDescriptor(V,"_afterRender"),V),h(V,"featuredTags",[e.default],Object.getOwnPropertyDescriptor(V,"featuredTags"),V),h(V,"_tearDown",[D],Object.getOwnPropertyDescriptor(V,"_tearDown"),V),h(V,"expandPinned",[I],Object.getOwnPropertyDescriptor(V,"expandPinned"),V),h(V,"posterNames",[A],Object.getOwnPropertyDescriptor(V,"posterNames"),V),h(V,"thumbnails",[B],Object.getOwnPropertyDescriptor(V,"thumbnails"),V),h(V,"defaultThumbnail",[R],Object.getOwnPropertyDescriptor(V,"defaultThumbnail"),V),h(V,"thumbnailOpts",[N],Object.getOwnPropertyDescriptor(V,"thumbnailOpts"),V),h(V,"topicActions",[W],Object.getOwnPropertyDescriptor(V,"topicActions"),V),h(V,"likeCount",[H],Object.getOwnPropertyDescriptor(V,"likeCount"),V),h(V,"hasLikedDisplay",[F],Object.getOwnPropertyDescriptor(V,"hasLikedDisplay"),V),h(V,"showCategoryBadge",[q],Object.getOwnPropertyDescriptor(V,"showCategoryBadge"),V),V)),r.modifyClass("component:topic-timeline",(U=(0,e.on)("didInsertElement"),Y=(0,e.on)("willDestroyElement"),h(Q={refreshTimelinePosition:function(){var t=this;this.appEvents.on("topic:refresh-timeline-position",this,(function(){return t.queueDockCheck()}))},removeRefreshTimelinePosition:function(){var t=this;try{this.appEvents.off("topic:refresh-timeline-position",this,(function(){return t.queueDockCheck()}))}catch(t){console.log(t.message)}}},"refreshTimelinePosition",[U],Object.getOwnPropertyDescriptor(Q,"refreshTimelinePosition"),Q),h(Q,"removeRefreshTimelinePosition",[Y],Object.getOwnPropertyDescriptor(Q,"removeRefreshTimelinePosition"),Q),Q))}))}};t.default=d})),define("discourse/plugins/discourse-topic-list-previews/discourse/initializers/preview-route-edits",["exports","../lib/utilities","discourse/lib/ajax","discourse/lib/plugin-api","preload-store","discourse/models/category-list","discourse/models/topic-list"],(function(t,e,n,i,s,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"preview-route-edits",initialize:function(t){var e=t.lookup("site:main"),a=[],l=["Category","CategoryNone"],c=e.get("filters"),u=c.indexOf("top");u>-1&&c.splice(u,1),c.forEach((function(t){var e=t.capitalize();a.push(e),l.push.apply(l,["".concat(e,"Category"),"".concat(e,"CategoryNone")])})),a.forEach((function(e){(e=t.lookup("route:discovery.".concat(e))).reopen({model:function(t,e){var n=this;return this._super(t,e).then((function(t){var e=null;return t&&t.topic_list&&t.topic_list.featured_topics&&(e=t.topic_list.featured_topics),n.controllerFor("discovery").set("featuredTopics",e),t}))}})})),l.forEach((function(e){(e=t.lookup("route:discovery.".concat(e))).reopen({afterModel:function(t,e){var n=this;return this._super(t,e).then((function(t){var e=null;return t[1]&&t[1].topic_list&&t[1].topic_list.featured_topics&&(e=t[1].topic_list.featured_topics),n.controllerFor("discovery").set("featuredTopics",e),t}))}})})),(0,i.withPluginApi)("0.8.12",(function(t){t.modifyClass("route:discovery-categories",{setFeaturedTopics:function(t){var e=null;t&&t.topic_list&&t.topic_list.featured_topics&&(e=t.topic_list.featured_topics),this.controllerFor("discovery").set("featuredTopics",e)},_findCategoriesAndTopics:function(t){var e=this;return Ember.RSVP.hash({wrappedCategoriesList:s.default.getAndRemove("categories_list"),topicsList:s.default.getAndRemove("topic_list_".concat(t))}).then((function(i){var s=i.wrappedCategoriesList,a=i.topicsList,l=s&&s.category_list;return l&&a?(e.setFeaturedTopics(a),Ember.Object.create({categories:o.default.categoriesFrom(e.store,s),topics:r.default.topicsFrom(e.store,a),can_create_category:l.can_create_category,can_create_topic:l.can_create_topic,draft_key:l.draft_key,draft:l.draft,draft_sequence:l.draft_sequence})):(0,n.ajax)("/categories_and_".concat(t)).then((function(t){return e.setFeaturedTopics(t),Ember.Object.create({categories:o.default.categoriesFrom(e.store,t),topics:r.default.topicsFrom(e.store,t),can_create_category:t.category_list.can_create_category,can_create_topic:t.category_list.can_create_topic,draft_key:t.category_list.draft_key,draft:t.category_list.draft,draft_sequence:t.category_list.draft_sequence})}))}))}})}))}};t.default=a})),define("discourse/plugins/discourse-topic-list-previews/discourse/lib/actions",["exports","discourse/lib/ajax","discourse/lib/ajax-error"],(function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeLike=t.sendBookmark=t.addLike=void 0;t.addLike=function(t){(0,e.ajax)("/post_actions",{type:"POST",data:{id:t,post_action_type_id:2},returnXHR:!0}).catch((function(t){(0,n.popupAjaxError)(t)}))};t.sendBookmark=function(t,i){if(i){var s={reminder_type:null,reminder_at:null,name:null,post_id:t.topic_post_id};return(0,e.ajax)("/bookmarks",{type:"POST",data:s}).catch((function(t){(0,n.popupAjaxError)(t)}))}return(0,e.ajax)("/t/".concat(t.id,"/remove_bookmarks"),{type:"PUT"}).then(t.firstPost().then((function(e){t.toggleProperty("bookmarked"),t.set("bookmark_reminder_at",null);e.setProperties({bookmarked:!1,bookmark_id:null,bookmark_name:null,bookmark_reminder_at:null})}))).catch((function(t){(0,n.popupAjaxError)(t)}))};t.removeLike=function(t){(0,e.ajax)("/post_actions/"+t,{type:"DELETE",data:{post_action_type_id:2}}).catch((function(t){(0,n.popupAjaxError)(t)}))}})),define("discourse/plugins/discourse-topic-list-previews/discourse/lib/utilities",["exports","discourse-common/lib/icon-library"],(function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultThumbnail=t.featuredImagesEnabled=t.animateHeart=t.buttonHTML=t.testImageUrl=t.renderUnboundPreview=void 0;var n=function(t,e){var n=!!e&&e.featured,i=null!==Discourse.User._current&&Discourse.User._current.custom_fields.tlp_user_prefs_prefer_low_res_thumbnails;if(t){var s=n?Discourse.SiteSettings.topic_list_featured_images_resolution_level:Discourse.SiteSettings.topic_list_thumbnail_resolution_level;return s=Math.round((t.length-1)/6*s),i&&s++,window.devicePixelRatio&&s>0&&s--,s<=t.length-1?t[s].url:t[t.length-1].url}return!1};t.renderUnboundPreview=function(t,e){var i=e.opts||{},s=n(t,i||null);if(!s)return"";if(!i.tilesStyle&&!i.featured&&Discourse.Site.currentProp("mobileView"))return'<img class="thumbnail" src="'.concat(s,'" loading="lazy"/>');var o=Discourse.SiteSettings,r=i.tilesStyle?"%":"px",a=i.tilesStyle?"":"px",l=i.tilesStyle?"thumbnail tiles-thumbnail":"thumbnail",c=!!e.category&&e.category.topic_list_thumbnail_width,u=!!e.category&&e.category.topic_list_thumbnail_height,p=!!i.featured&&(o.topic_list_featured_width?o.topic_list_featured_width:"auto"),h=!!i.featured&&o.topic_list_featured_height,d=!!i.tilesStyle&&"100",m=!!i.tilesStyle&&"auto",f=!!i.thumbnailWidth&&i.thumbnailWidth,g=!!i.thumbnailHeight&&i.thumbnailHeight||m||h||u||o.topic_list_thumbnail_height,y=f||d||p||c||o.topic_list_thumbnail_width,v=g?"height:".concat(g).concat(a,";"):"",x="".concat(v,"width:").concat(y).concat(r);return'<img class="'.concat(l,'" src="').concat(s,'" style="').concat(x,'"/>')};t.testImageUrl=function(t,e){var i,s=n(t),o=Discourse.SiteSettings.topic_list_test_image_url_timeout,r=new Image;r.onerror=r.onabort=function(){clearTimeout(i),e(!1)},r.onload=function(){clearTimeout(i),e(!0)},i=setTimeout((function(){e(!1)}),o),r.src=s};t.getDefaultThumbnail=function(t){var e=!!t&&t.topic_list_default_thumbnail||Discourse.SiteSettings.topic_list_default_thumbnail;return e||!1};t.buttonHTML=function(t){var n="<button class='list-button "+(t=t||{}).class+"'";return t.title&&(n+='title="'+I18n.t(t.title)+'"'),t.disabled&&(n+=" disabled"),n+=">".concat((0,e.iconHTML)(t.icon)),n+="</button>"};t.animateHeart=function(t,e,n,i){if(Ember.testing)return Ember.run(this,i);t.stop().css("textIndent",e).animate({textIndent:n},{complete:i,step:function(t){$(this).css("transform","scale("+t+")")},duration:150},"linear")};t.featuredImagesEnabled=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(e&&!Discourse.SiteSettings.topic_list_featured_images_topic)&&(!t||Discourse.SiteSettings.topic_list_featured_images_category?Discourse.SiteSettings.topic_list_featured_images:t.topic_list_featured_images)}})),define("discourse/plugins/discourse-topic-list-previews/discourse/mixins/settings",["exports"],(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Ember.Mixin.create({_settingEnabled:function(t){var e=this.get("routeEnabled");if(e)return e.indexOf(t)>-1;var n=this._filter(),i=this.get("discoveryList"),s=this.get("suggestedList"),o=this.get("currentRoute");if(!(i||s||o.indexOf("userActivity")>-1||o.indexOf("tag")>-1))return!1;var r=this.get("category"),a=!!r&&r.get(t),l=!!Discourse.SiteSettings[t]&&Discourse.SiteSettings[t].toString(),c=n?n.split("/"):[],u=c[c.length-1],p=a&&a.split("|").indexOf(u)>-1,h=l&&l.split("|").indexOf(u)>-1,d=Discourse.SiteSettings.topic_list_set_category_defaults;return["suggested","suggested-mobile"].includes(u)?h:r?p||d&&h:h},_filter:function(){var t=this.get("parentView.model.filter"),e=this.get("currentRoute");return e.indexOf("tag")>-1&&(t="tags"),e.indexOf("top")>-1&&(t="top"),e.indexOf("topic")>-1&&(t="suggested"),"userActivity.portfolio"==e&&(t="activity-portfolio"),"userActivity.topics"==e&&(t="activity-topics"),this.get("site.mobileView")&&(t+="-mobile"),t}});t.default=e})),define("discourse/plugins/discourse-topic-list-previews/discourse/previews-route-map",["exports"],(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={resource:"user.userActivity",map:function(){this.route("portfolio")}}})),define("discourse/plugins/discourse-topic-list-previews/discourse/routes/user-activity-portfolio",["exports","discourse/routes/user-topic-list","discourse/models/user-action"],(function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e.default.extend({userActionType:n.default.TYPES.topics,model:function(){var t,e,n,i=Discourse.SiteSettings.topic_list_portfolio_filter_type,s=Discourse.SiteSettings.topic_list_portfolio_filter_parameter;return"tag"==i&&(i="tags"),this.store.findFiltered("topicList",{filter:"topics/created-by/"+this.modelFor("user").get("username_lower"),params:(t={},e=i,n=s,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t)})}});t.default=i})),Ember.TEMPLATES["javascripts/components/select-thumbnail"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"d-button",null,[["id","class","action","icon","label"],["select-thumbnail-button","btn-default select-thumbnail",[28,"action",[[23,0,[]],"showThumbnailSelector"],null],"id-card","thumbnail_selector.select_preview_button"]]],false],[0,"\\n"],[4,"if",[[24,["showSelected"]]],null,{"statements":[[0,"    "],[7,"br",true],[8],[9],[7,"img",true],[11,"src",[24,["buffered","user_chosen_thumbnail_url"]]],[10,"class","select-thumbnail-preview"],[8],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/select-thumbnail"}}),Ember.TEMPLATES["javascripts/components/tlp-featured-topic"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","featured-details"],[8],[0,"\\n  "],[1,[28,"preview-unbound",[[24,["topic","thumbnails"]]],[["opts"],[[28,"hash",null,[["featured"],[true]]]]]],false],[0,"\\n  "],[7,"div",true],[10,"class","content"],[8],[0,"\\n    "],[7,"div",true],[10,"class","title"],[8],[0,"\\n      "],[1,[24,["topic","title"]],false],[0,"\\n    "],[9],[0,"\\n"],[4,"if",[[24,["siteSettings","topic_list_featured_excerpt"]]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","excerpt"],[8],[0,"\\n        "],[1,[24,["topic","excerpt"]],true],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"span",true],[10,"class","user"],[8],[0,"\\n      "],[1,[24,["topic","topic_post_user","username"]],false],[0,"\\n      "],[1,[28,"avatar",[[24,["topic","topic_post_user"]]],[["imageSize"],["small"]]],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/tlp-featured-topic"}}),Ember.TEMPLATES["javascripts/components/tlp-featured-topics"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["tag","t"],"statements":[[4,"if",[[24,["hasTopics"]]],null,{"statements":[[4,"if",[[24,["showFeaturedTitle"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","featured-title"],[8],[0,"\\n      "],[1,[22,"featuredTitle"],false],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},null],[0,"  "],[7,"div",true],[10,"class","topics"],[8],[0,"\\n"],[4,"each",[[24,["featuredTopics"]]],null,{"statements":[[0,"      "],[1,[28,"tlp-featured-topic",null,[["topic"],[[23,2,[]]]]],false],[0,"\\n"]],"parameters":[2]},null],[0,"  "],[9],[0,"\\n"],[4,"if",[[24,["showFeaturedTags"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","featured-tags"],[8],[0,"\\n"],[4,"each",[[24,["featuredTags"]]],null,{"statements":[[0,"        "],[1,[28,"discourse-tag",[[23,1,[]]],null],false],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/tlp-featured-topics"}}),Ember.TEMPLATES["javascripts/components/tlp-user-preferences"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"label",true],[10,"class","control-label"],[8],[1,[28,"i18n",["tlp.user_prefs.title"],null],false],[9],[0,"\\n"],[1,[28,"preference-checkbox",null,[["labelKey","checked"],["tlp.user_prefs.prefer_low_res_thumbnail",[24,["model","custom_fields","tlp_user_prefs_prefer_low_res_thumbnails"]]]]],false]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/tlp-user-preferences"}});var __t=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <div class="like-count">'+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"likeCount",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:3,column:28},end:{line:3,column:41}}}))+"</div>\n"},3:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((o(n,"list-button")||e&&o(e,"list-button")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"action",{name:"list-button",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:6,column:4},end:{line:6,column:26}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="topic-actions">\n'+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"likeCount",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:2,column:2},end:{line:4,column:9}}}))?o:"")+(null!=(o=r(n,"each").call(null!=e?e:t.nullContext||{},"action","in","topicActions",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:t.program(3,s,0),inverse:t.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[e,e,e],data:s,loc:{start:{line:5,column:2},end:{line:7,column:11}}}))?o:"")+"</div>\n"},useData:!0});requirejs("discourse-common/lib/raw-templates").addRawTemplate("javascripts/list/topic-actions",__t);__t=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,n,i,s){return'  <td class=\'star\'>\n    <input type="checkbox" class="bulk-select">\n  </td>\n'},3:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <div class="topic-header-grid">\n      '+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-list-title",{name:"raw",hash:{showTopicPostBadges:"showTopicPostBadges",tilesStyle:"tilesStyle",topic:"topic"},hashTypes:{showTopicPostBadges:"PathExpression",tilesStyle:"PathExpression",topic:"PathExpression"},hashContexts:{showTopicPostBadges:e,tilesStyle:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:10,column:6},end:{line:10,column:111}}}))+'\n      <div class="topic-category">\n'+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showCategoryBadge",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(4,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:12,column:8},end:{line:14,column:15}}}))?o:"")+"      </div>\n    </div>\n"},4:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"          "+t.escapeExpression((o(n,"category-link")||e&&o(e,"category-link")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:13,column:10},end:{line:13,column:42}}}))+"\n"},6:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-thumbnail",{name:"raw",hash:{opts:"thumbnailOpts",category:"category",thumbnails:"thumbnails",topic:"topic"},hashTypes:{opts:"PathExpression",category:"PathExpression",thumbnails:"PathExpression",topic:"PathExpression"},hashContexts:{opts:e,category:e,thumbnails:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:20,column:4},end:{line:20,column:105}}}))+"\n"},8:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      "+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-list-title",{name:"raw",hash:{suggested:"parentView.suggestedList",homepage:"parentView.homepage",showTopicPostBadges:"showTopicPostBadges",tilesStyle:"tilesStyle",topic:"topic"},hashTypes:{suggested:"PathExpression",homepage:"PathExpression",showTopicPostBadges:"PathExpression",tilesStyle:"PathExpression",topic:"PathExpression"},hashContexts:{suggested:e,homepage:e,showTopicPostBadges:e,tilesStyle:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:25,column:6},end:{line:30,column:44}}}))+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showCategoryBadge",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(9,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:31,column:6},end:{line:35,column:13}}}))?o:"")+"      "+t.escapeExpression((r(n,"discourse-tags")||e&&r(e,"discourse-tags")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic",{name:"discourse-tags",hash:{tagsForUser:"tagsForUser",mode:"list"},hashTypes:{tagsForUser:"PathExpression",mode:"StringLiteral"},hashContexts:{tagsForUser:e,mode:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:36,column:6},end:{line:36,column:66}}}))+"\n"},9:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        <div class='topic-category'>\n          "+t.escapeExpression((o(n,"category-link")||e&&o(e,"category-link")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:33,column:10},end:{line:33,column:42}}}))+"\n        </div>\n"},11:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-excerpt",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:40,column:6},end:{line:40,column:46}}}))+"\n"},13:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <div class="actions-and-meta-data">\n'+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(14,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:45,column:8},end:{line:47,column:15}}}))?o:"")+"        "+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.action-list",{name:"raw",hash:{icon:"heart",className:"likes",postNumbers:"topic.liked_post_numbers",topic:"topic"},hashTypes:{icon:"StringLiteral",className:"StringLiteral",postNumbers:"PathExpression",topic:"PathExpression"},hashContexts:{icon:e,className:e,postNumbers:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:48,column:8},end:{line:48,column:114}}}))+"\n      </div>\n"},14:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"          "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCount:"likeCount"},hashTypes:{topicActions:"PathExpression",likeCount:"PathExpression"},hashContexts:{topicActions:e,likeCount:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:46,column:10},end:{line:46,column:84}}}))+"\n"},16:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      </div>\n      "+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-meta",{name:"raw",hash:{topic:"topic",title:"view.title",likesHeat:"likesHeat"},hashTypes:{topic:"PathExpression",title:"PathExpression",likesHeat:"PathExpression"},hashContexts:{topic:e,title:e,likesHeat:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:54,column:6},end:{line:54,column:80}}}))+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(17,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:55,column:6},end:{line:57,column:13}}}))?o:"")},17:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCount:"likeCount"},hashTypes:{topicActions:"PathExpression",likeCount:"PathExpression"},hashContexts:{topicActions:e,likeCount:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:56,column:8},end:{line:56,column:82}}}))+"\n"},19:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showPosters",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(20,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:63,column:2},end:{line:65,column:9}}}))?o:"")+"\n  "+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.posts-count-column",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:67,column:2},end:{line:67,column:47}}}))+"\n\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showParticipants",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(22,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:69,column:2},end:{line:71,column:9}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(24,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:73,column:2},end:{line:81,column:9}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showOpLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(27,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:83,column:2},end:{line:91,column:9}}}))?o:"")+'\n  <td class="num views '+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"topic.viewsHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:93,column:23},end:{line:93,column:42}}}))+'">'+t.escapeExpression((r(n,"number")||e&&r(e,"number")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.views",{name:"number",hash:{numberKey:"views_long"},hashTypes:{numberKey:"StringLiteral"},hashContexts:{numberKey:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:93,column:44},end:{line:93,column:89}}}))+"</td>\n  "+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.activity-column",{name:"raw",hash:{tagName:"td",class:"num",topic:"topic"},hashTypes:{tagName:"StringLiteral",class:"StringLiteral",topic:"PathExpression"},hashContexts:{tagName:e,class:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:94,column:2},end:{line:94,column:69}}}))+"\n"},20:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.posters-column",{name:"raw",hash:{posters:"topic.posters"},hashTypes:{posters:"PathExpression"},hashContexts:{posters:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:64,column:4},end:{line:64,column:55}}}))+"\n"},22:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.posters-column",{name:"raw",hash:{posters:"topic.participants"},hashTypes:{posters:"PathExpression"},hashContexts:{posters:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:70,column:4},end:{line:70,column:60}}}))+"\n"},24:function(t,e,n,i,s){var o;return'    <td class="num likes">\n'+(null!=(o=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"if").call(null!=e?e:t.nullContext||{},"hasLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(25,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:75,column:6},end:{line:79,column:13}}}))?o:"")+"    </td>\n"},25:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        <a href='"+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"topic.summaryUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:76,column:17},end:{line:76,column:37}}}))+"'>\n          "+t.escapeExpression((o(n,"number")||e&&o(e,"number")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.like_count",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:77,column:10},end:{line:77,column:37}}}))+" "+t.escapeExpression((o(n,"d-icon")||e&&o(e,"d-icon")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"heart",{name:"d-icon",hash:{},hashTypes:{},hashContexts:{},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:77,column:38},end:{line:77,column:56}}}))+"\n        </a>\n"},27:function(t,e,n,i,s){var o;return'    <td class="num likes">\n'+(null!=(o=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"if").call(null!=e?e:t.nullContext||{},"hasOpLikes",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(28,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:85,column:6},end:{line:89,column:13}}}))?o:"")+"    </td>\n"},28:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        <a href='"+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"topic.summaryUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:86,column:17},end:{line:86,column:37}}}))+"'>\n          "+t.escapeExpression((o(n,"number")||e&&o(e,"number")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.op_like_count",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:87,column:10},end:{line:87,column:40}}}))+" "+t.escapeExpression((o(n,"d-icon")||e&&o(e,"d-icon")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"heart",{name:"d-icon",hash:{},hashTypes:{},hashContexts:{},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:87,column:41},end:{line:87,column:59}}}))+"\n        </a>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"bulkSelectEnabled",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?o:"")+"\n<td class='main-link clearfix' colspan=\""+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"titleColSpan",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:7,column:40},end:{line:7,column:56}}}))+'">\n'+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"tilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(3,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:8,column:2},end:{line:17,column:9}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(6,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:19,column:2},end:{line:21,column:9}}}))?o:"")+'\n  <div class="topic-details">\n'+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"notTilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(8,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:24,column:4},end:{line:37,column:11}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"expandPinned",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(11,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:39,column:4},end:{line:41,column:11}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"notTilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(13,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:43,column:4},end:{line:50,column:11}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"tilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(16,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:52,column:4},end:{line:58,column:11}}}))?o:"")+"</td>\n\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"notTilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(19,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:61,column:0},end:{line:95,column:7}}}))?o:"")},useData:!0});requirejs("discourse-common/lib/raw-templates").addRawTemplate("javascripts/list/topic-list-item",__t);__t=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"mobileView",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(2,s,0),inverse:t.program(5,s,0),types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:7,column:6},end:{line:15,column:13}}}))?o:"")+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"topic.featured_link",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(8,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:16,column:6},end:{line:18,column:13}}}))?o:"")},2:function(t,e,n,i,s){var o;return null!=(o=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"if").call(null!=e?e:t.nullContext||{},"topic.unseen",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(3,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:8,column:8},end:{line:10,column:15}}}))?o:""},3:function(t,e,n,i,s){return'          <span class="badge-notification new-topic"></span>\n'},5:function(t,e,n,i,s){var o;return null!=(o=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"if").call(null!=e?e:t.nullContext||{},"showTopicPostBadges",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(6,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:12,column:8},end:{line:14,column:15}}}))?o:""},6:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"          "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic-post-badges",{name:"raw",hash:{url:"topic.lastUnreadUrl",unseen:"topic.unseen",newPosts:"topic.displayNewPosts",unread:"topic.unread"},hashTypes:{url:"PathExpression",unseen:"PathExpression",newPosts:"PathExpression",unread:"PathExpression"},hashContexts:{url:e,unseen:e,newPosts:e,unread:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:13,column:10},end:{line:13,column:132}}}))+"\n"},8:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        "+t.escapeExpression((o(n,"topic-featured-link")||e&&o(e,"topic-featured-link")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic",{name:"topic-featured-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:17,column:8},end:{line:17,column:37}}}))+"\n"},10:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"topic.featured_link",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(8,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:20,column:6},end:{line:22,column:13}}}))?o:"")+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"mobileView",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(2,s,0),inverse:t.program(5,s,0),types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:23,column:6},end:{line:31,column:13}}}))?o:"")},12:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-users",{name:"raw",hash:{posterNames:"posterNames",topic:"topic",tilesStyle:"tilesStyle"},hashTypes:{posterNames:"PathExpression",topic:"PathExpression",tilesStyle:"PathExpression"},hashContexts:{posterNames:e,topic:e,tilesStyle:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:38,column:2},end:{line:38,column:86}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class=\"topic-title\">\n  <span class='link-top-line'>\n    "+t.escapeExpression((r(n,"raw-plugin-outlet")||e&&r(e,"raw-plugin-outlet")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},{name:"raw-plugin-outlet",hash:{name:"topic-list-before-status"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:s,loc:{start:{line:3,column:4},end:{line:3,column:57}}}))+"\n    "+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic-status",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:4,column:4},end:{line:4,column:38}}}))+t.escapeExpression((r(n,"topic-link")||e&&r(e,"topic-link")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic",{name:"topic-link",hash:{class:"raw-link raw-topic-link"},hashTypes:{class:"StringLiteral"},hashContexts:{class:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:5,column:4},end:{line:5,column:57}}}))+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"tilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,s,0),inverse:t.program(10,s,0),types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:6,column:4},end:{line:32,column:11}}}))?o:"")+"\n    "+t.escapeExpression((r(n,"raw-plugin-outlet")||e&&r(e,"raw-plugin-outlet")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},{name:"raw-plugin-outlet",hash:{name:"topic-list-after-title"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:s,loc:{start:{line:34,column:4},end:{line:34,column:55}}}))+"\n  </span>\n</div>\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"tilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(12,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:37,column:0},end:{line:39,column:7}}}))?o:"")},useData:!0});requirejs("discourse-common/lib/raw-templates").addRawTemplate("javascripts/list/topic-list-title",__t);__t=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'  <div class="topic-tags">\n    '+t.escapeExpression((o(n,"discourse-tags")||e&&o(e,"discourse-tags")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic",{name:"discourse-tags",hash:{mode:"list"},hashTypes:{mode:"StringLiteral"},hashContexts:{mode:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:3,column:4},end:{line:3,column:40}}}))+"\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"topic.tags",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?o:"")+'<div class="topic-meta">\n  '+t.escapeExpression((r(n,"raw-plugin-outlet")||e&&r(e,"raw-plugin-outlet")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},{name:"raw-plugin-outlet",hash:{name:"topic-list-tiles-meta"},hashTypes:{name:"StringLiteral"},hashContexts:{name:e},types:[],contexts:[],data:s,loc:{start:{line:7,column:2},end:{line:7,column:52}}}))+'\n  <div class="topic-views '+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"topic.viewsHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:8,column:26},end:{line:8,column:45}}}))+' inline sub">\n    '+t.escapeExpression((r(n,"d-icon")||e&&r(e,"d-icon")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"far-eye",{name:"d-icon",hash:{},hashTypes:{},hashContexts:{},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:9,column:4},end:{line:9,column:24}}}))+"\n    "+t.escapeExpression((r(n,"number")||e&&r(e,"number")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.views",{name:"number",hash:{numberKey:"views_long"},hashTypes:{numberKey:"StringLiteral"},hashContexts:{numberKey:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:10,column:4},end:{line:10,column:49}}}))+'\n  </div>\n  <span class="middot inline sub"></span>\n  <div class=\'topic-replies posts-map '+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"likesHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:13,column:38},end:{line:13,column:51}}}))+" inline sub' title='"+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"title",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:13,column:71},end:{line:13,column:80}}}))+"'>\n    <a href class='posts-map badge-posts "+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"likesHeat",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:14,column:41},end:{line:14,column:54}}}))+"'>"+t.escapeExpression((r(n,"d-icon")||e&&r(e,"d-icon")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"far-comment",{name:"d-icon",hash:{},hashTypes:{},hashContexts:{},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:14,column:56},end:{line:14,column:80}}}))+t.escapeExpression((r(n,"number")||e&&r(e,"number")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.replyCount",{name:"number",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:14,column:80},end:{line:14,column:107}}}))+'</a>\n  </div>\n  <span class="middot inline sub"></span>\n  <div class="'+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"class",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:17,column:14},end:{line:17,column:23}}}))+" "+t.escapeExpression((r(n,"cold-age-class")||e&&r(e,"cold-age-class")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.createdAt",{name:"cold-age-class",hash:{class:"",startDate:"topic.bumpedAt"},hashTypes:{class:"StringLiteral",startDate:"PathExpression"},hashContexts:{class:e,startDate:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:17,column:24},end:{line:17,column:92}}}))+' activity inline sub" title="'+(null!=(o=r(n,"get").call(null!=e?e:t.nullContext||{},"topic.bumpedAtTitle",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:17,column:121},end:{line:17,column:146}}}))?o:"")+'">\n    <a href="'+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:18,column:13},end:{line:18,column:34}}}))+'">'+t.escapeExpression((r(n,"format-date")||e&&r(e,"format-date")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.bumpedAt",{name:"format-date",hash:{noTitle:"true",format:"medium-with-ago"},hashTypes:{noTitle:"StringLiteral",format:"StringLiteral"},hashContexts:{noTitle:e,format:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:18,column:36},end:{line:18,column:106}}}))+"</a>\n  </div>\n</div>\n"},useData:!0});requirejs("discourse-common/lib/raw-templates").addRawTemplate("javascripts/list/topic-meta",__t);__t=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="topic-thumbnail">\n  <a href=\''+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"topic.url",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:2,column:11},end:{line:2,column:24}}}))+"'>\n    "+t.escapeExpression((o(n,"preview-unbound")||e&&o(e,"preview-unbound")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"thumbnails",{name:"preview-unbound",hash:{opts:"opts",category:"category"},hashTypes:{opts:"PathExpression",category:"PathExpression"},hashContexts:{opts:e,category:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:3,column:4},end:{line:3,column:62}}}))+"\n  </a>\n</div>\n"},useData:!0});requirejs("discourse-common/lib/raw-templates").addRawTemplate("javascripts/list/topic-thumbnail",__t);__t=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <a href="'+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"poster.user.path",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:4,column:15},end:{line:4,column:35}}}))+'" data-user-card="'+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"poster.user.username",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:4,column:53},end:{line:4,column:77}}}))+'" class="'+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"poster.extras",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:4,column:86},end:{line:4,column:103}}}))+'">\n        '+t.escapeExpression((o(n,"avatar")||e&&o(e,"avatar")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"poster",{name:"avatar",hash:{imageSize:"small",usernamePath:"user.username",avatarTemplatePath:"user.avatar_template"},hashTypes:{imageSize:"StringLiteral",usernamePath:"StringLiteral",avatarTemplatePath:"StringLiteral"},hashContexts:{imageSize:e,usernamePath:e,avatarTemplatePath:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:5,column:8},end:{line:5,column:114}}}))+"\n      </a>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,s){var o;return"<div class='topic-users'>\n  <div class=\"inline\">\n"+(null!=(o=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"each").call(null!=e?e:t.nullContext||{},"poster","in","topic.posters",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,s,0),inverse:t.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[e,e,e],data:s,loc:{start:{line:3,column:4},end:{line:7,column:13}}}))?o:"")+"  </div>\n</div>\n"},useData:!0});requirejs("discourse-common/lib/raw-templates").addRawTemplate("javascripts/list/topic-users",__t);__t=requirejs("discourse-common/lib/raw-handlebars").template({1:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <div class="topic-header-grid">\n      '+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-list-title",{name:"raw",hash:{mobileView:"site.mobileView",tilesStyle:"tilesStyle",topic:"topic"},hashTypes:{mobileView:"PathExpression",tilesStyle:"PathExpression",topic:"PathExpression"},hashContexts:{mobileView:e,tilesStyle:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:4,column:6},end:{line:4,column:98}}}))+'\n      <div class="topic-category">\n'+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showCategoryBadge",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(2,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:6,column:8},end:{line:8,column:15}}}))?o:"")+"      </div>\n    </div>\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(4,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:11,column:4},end:{line:13,column:11}}}))?o:"")},2:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"          "+t.escapeExpression((o(n,"category-link")||e&&o(e,"category-link")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:7,column:10},end:{line:7,column:42}}}))+"\n"},4:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-thumbnail",{name:"raw",hash:{opts:"thumbnailOpts",category:"category",thumbnails:"thumbnails",topic:"topic"},hashTypes:{opts:"PathExpression",category:"PathExpression",thumbnails:"PathExpression",topic:"PathExpression"},hashContexts:{opts:e,category:e,thumbnails:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:12,column:6},end:{line:12,column:107}}}))+"\n"},6:function(t,e,n,i,s){var o;return null!=(o=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"if").call(null!=e?e:t.nullContext||{},"showThumbnail",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(4,s,0),inverse:t.program(7,s,0),types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:15,column:4},end:{line:21,column:11}}}))?o:""},7:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      <div class='pull-left'>\n        <a href=\""+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:19,column:17},end:{line:19,column:38}}}))+'" data-user-card="'+t.escapeExpression(o(n,"get").call(null!=e?e:t.nullContext||{},"topic.last_poster_username",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:19,column:56},end:{line:19,column:86}}}))+'">'+t.escapeExpression((o(n,"avatar")||e&&o(e,"avatar")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.lastPosterUser",{name:"avatar",hash:{imageSize:"large"},hashTypes:{imageSize:"StringLiteral"},hashContexts:{imageSize:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:19,column:88},end:{line:19,column:137}}}))+"</a>\n      </div>\n"},9:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      <div class='main-link'>\n        "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-list-title",{name:"raw",hash:{mobileView:"site.mobileView",suggested:"parentView.suggestedList",homepage:"parentView.homepage",showTopicPostBadges:"showTopicPostBadges",topic:"topic"},hashTypes:{mobileView:"PathExpression",suggested:"PathExpression",homepage:"PathExpression",showTopicPostBadges:"PathExpression",topic:"PathExpression"},hashContexts:{mobileView:e,suggested:e,homepage:e,showTopicPostBadges:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:27,column:8},end:{line:32,column:38}}}))+"\n      </div>\n      <div class='pull-right'>\n        "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.post-count-or-badges",{name:"raw",hash:{postBadgesEnabled:"showTopicPostBadges",topic:"topic"},hashTypes:{postBadgesEnabled:"PathExpression",topic:"PathExpression"},hashContexts:{postBadgesEnabled:e,topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:35,column:8},end:{line:35,column:93}}}))+"\n      </div>\n"},11:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-excerpt",{name:"raw",hash:{topic:"topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:40,column:6},end:{line:40,column:46}}}))+"\n"},13:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showCategoryBadge",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(14,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:44,column:6},end:{line:48,column:13}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"topic.tags",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(16,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:50,column:6},end:{line:56,column:13}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(19,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:58,column:6},end:{line:60,column:13}}}))?o:"")+'\n      <div class=\'num activity last\'>\n        <span class="age activity" title="'+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"topic.bumpedAtTitle",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:63,column:42},end:{line:63,column:65}}}))+'"><a href="'+t.escapeExpression(r(n,"get").call(null!=e?e:t.nullContext||{},"topic.lastPostUrl",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:63,column:76},end:{line:63,column:97}}}))+'">'+t.escapeExpression((r(n,"format-date")||e&&r(e,"format-date")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.bumpedAt",{name:"format-date",hash:{noTitle:"true",format:"tiny"},hashTypes:{noTitle:"StringLiteral",format:"StringLiteral"},hashContexts:{noTitle:e,format:e},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:63,column:99},end:{line:63,column:158}}}))+"</a></span>\n      </div>\n"},14:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        <div class='topic-category'>\n          "+t.escapeExpression((o(n,"category-link")||e&&o(e,"category-link")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"topic.category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:46,column:10},end:{line:46,column:42}}}))+"\n        </div>\n"},16:function(t,e,n,i,s){var o;return"        <div class='discourse-tags'>\n"+(null!=(o=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"each").call(null!=e?e:t.nullContext||{},"tag","in","topic.visibleListTags",{name:"each",hash:{},hashTypes:{},hashContexts:{},fn:t.program(17,s,0),inverse:t.noop,types:["PathExpression","CommentStatement","PathExpression"],contexts:[e,e,e],data:s,loc:{start:{line:52,column:8},end:{line:54,column:17}}}))?o:"")+"        </div>\n"},17:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"          "+t.escapeExpression((o(n,"discourse-tag")||e&&o(e,"discourse-tag")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"tag",{name:"discourse-tag",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:53,column:10},end:{line:53,column:31}}}))+"\n"},19:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"        "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCount:"likeCount"},hashTypes:{topicActions:"PathExpression",likeCount:"PathExpression"},hashContexts:{topicActions:e,likeCount:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:59,column:8},end:{line:59,column:82}}}))+"\n"},21:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"    "+t.escapeExpression((r(n,"raw")||e&&r(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-meta",{name:"raw",hash:{topic:"topic",title:"view.title",likesHeat:"likesHeat"},hashTypes:{topic:"PathExpression",title:"PathExpression",likesHeat:"PathExpression"},hashContexts:{topic:e,title:e,likesHeat:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:69,column:4},end:{line:69,column:78}}}))+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"showActions",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(22,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:70,column:4},end:{line:72,column:11}}}))?o:"")},22:function(t,e,n,i,s){var o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      "+t.escapeExpression((o(n,"raw")||e&&o(e,"raw")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},"list.topic-actions",{name:"raw",hash:{topicActions:"topicActions",likeCount:"likeCount"},hashTypes:{topicActions:"PathExpression",likeCount:"PathExpression"},hashContexts:{topicActions:e,likeCount:e},types:["StringLiteral"],contexts:[e],data:s,loc:{start:{line:71,column:6},end:{line:71,column:80}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,s){var o,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<td>\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"tilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(1,s,0),inverse:t.program(6,s,0),types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:2,column:2},end:{line:22,column:9}}}))?o:"")+"\n  <div class='topic-details'>\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"notTilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(9,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:25,column:4},end:{line:37,column:11}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"expandPinned",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(11,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:39,column:4},end:{line:41,column:11}}}))?o:"")+"\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"notTilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(13,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:43,column:4},end:{line:65,column:11}}}))?o:"")+"  </div>\n\n"+(null!=(o=r(n,"if").call(null!=e?e:t.nullContext||{},"tilesStyle",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:t.program(21,s,0),inverse:t.noop,types:["PathExpression"],contexts:[e],data:s,loc:{start:{line:68,column:2},end:{line:73,column:9}}}))?o:"")+"</td>\n"},useData:!0});requirejs("discourse-common/lib/raw-templates").addRawTemplate("javascripts/mobile/list/topic-list-item",__t),Ember.TEMPLATES["javascripts/modal/tlp-thumbnail-selector"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["thumbnail"],"statements":[[4,"d-modal-body",null,[["class","title"],["select-thumbnail",[24,["modal_title"]]]],{"statements":[[0,"  "],[7,"h3",true],[8],[1,[28,"i18n",["thumbnail_selector.topic_title_prefix"],null],false],[0," \\""],[1,[22,"modal_topic_title"],false],[0,"\\""],[9],[0,"\\n  "],[7,"span",true],[10,"class","select-thumbnail"],[8],[0,"\\n"],[4,"each",[[24,["thumbnailList","thumbnailselection"]]],null,{"statements":[[0,"    "],[7,"img",false],[12,"class","select-thumbnail-options"],[12,"src",[23,1,["image_url"]]],[3,"action",[[23,0,[]],"selectThumbnail",[23,1,["image_url"]],[23,1,["upload_id"]]]],[8],[9],[0,"\\n"]],"parameters":[1]},null],[0,"  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/modal/tlp-thumbnail-selector"}});
//# sourceMappingURL=/assets/plugins/discourse-topic-previews-4a05e37ca8deefcb16d58a5f0a401a9f82ee03504d375b16be4c4471e0d678e2.js.map